;
(function() {
    var dfltPluginCfg = {
        "sourceFile": "download",
        "info": true
    };
    var dfltGlobalCfg = {
        "site": 594386,
        "log": "",
        "logSSL": "",
        "domain": "at.pagesjaunes.fr",
        "collectDomain": "at.pagesjaunes.fr",
        "collectDomainSSL": "at.pagesjaunes.fr",
        "userIdOrigin": "server",
        "secure": true,
        "pixelPath": "/wa.pj",
        "disableCookie": false,
        "disableStorage": false,
        "cookieSecure": false,
        "cookieDomain": "",
        "preview": false,
        "plgs": ["Campaigns", "Clicks", "ClientSideUserId", "ContextVariables", "OnSiteAds", "Page"],
        "lazyLoadingPath": "",
        "documentLevel": "document",
        "redirect": false,
        "activateCallbacks": true,
        "medium": "",
        "ignoreEmptyChapterValue": true,
        "base64Storage": false,
        "sendHitWhenOptOut": true
    };
    (function(a) {
        a.ATInternet = a.ATInternet || {};
        a.ATInternet.Tracker = a.ATInternet.Tracker || {};
        a.ATInternet.Tracker.Plugins = a.ATInternet.Tracker.Plugins || {}
    })(window);
    var Utils = function() {
        function a(c) {
            var b = typeof c;
            if ("object" !== b || null === c) return "string" === b && (c = '"' + c + '"'), String(c);
            var e, n, d = [],
                k = c && c.constructor === Array;
            for (e in c) c.hasOwnProperty(e) && (n = c[e], b = typeof n, "function" !== b && "undefined" !== b && ("string" === b ? n = '"' + n.replace(/[^\\]"/g, '\\"') + '"' : "object" === b && null !== n && (n = a(n)), d.push((k ? "" : '"' + e + '":') + String(n))));
            return (k ? "[" : "{") + String(d) + (k ? "]" : "}")
        }

        function g(a) {
            return null === a ? "" : (a + "").replace(f, "")
        }

        function l(a) {
            var b, e = null;
            return (a = g(a + "")) &&
                !g(a.replace(m, function(a, c, p, d) {
                    b && c && (e = 0);
                    if (0 === e) return a;
                    b = p || c;
                    e += !d - !p;
                    return ""
                })) ? Function("return " + a)() : null
        }
        var c = this,
            m = /(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g,
            f = RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$", "g");
        c.isLocalStorageAvailable = function() {
            try {
                var a = localStorage;
                a.setItem("__storage_test__", "__storage_test__");
                a.removeItem("__storage_test__");
                return !0
            } catch (b) {
                return !1
            }
        };
        c.Base64 = {
            _keyStr: "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",
            encode: function(a) {
                var b = "",
                    e, n, d, k, q, f, h = 0;
                for (a = c.Base64._utf8_encode(a); h < a.length;) e = a.charCodeAt(h++), n = a.charCodeAt(h++), d = a.charCodeAt(h++), k = e >> 2, e = (e & 3) << 4 | n >> 4, q = (n & 15) << 2 | d >> 6, f = d & 63, isNaN(n) ? q = f = 64 : isNaN(d) && (f = 64), b = b + this._keyStr.charAt(k) + this._keyStr.charAt(e) + this._keyStr.charAt(q) + this._keyStr.charAt(f);
                return b
            },
            decode: function(a) {
                var b = "",
                    e, n, d, k, q, f = 0;
                for (a = a.replace(/[^A-Za-z0-9\+\/\=]/g, ""); f <
                    a.length;) e = this._keyStr.indexOf(a.charAt(f++)), n = this._keyStr.indexOf(a.charAt(f++)), k = this._keyStr.indexOf(a.charAt(f++)), q = this._keyStr.indexOf(a.charAt(f++)), e = e << 2 | n >> 4, n = (n & 15) << 4 | k >> 2, d = (k & 3) << 6 | q, b += String.fromCharCode(e), 64 != k && (b += String.fromCharCode(n)), 64 != q && (b += String.fromCharCode(d));
                return b = c.Base64._utf8_decode(b)
            },
            _utf8_encode: function(a) {
                a = a.replace(/\r\n/g, "\n");
                for (var b = "", e = 0; e < a.length; e++) {
                    var c = a.charCodeAt(e);
                    128 > c ? b += String.fromCharCode(c) : (127 < c && 2048 > c ? b += String.fromCharCode(c >>
                        6 | 192) : (b += String.fromCharCode(c >> 12 | 224), b += String.fromCharCode(c >> 6 & 63 | 128)), b += String.fromCharCode(c & 63 | 128))
                }
                return b
            },
            _utf8_decode: function(a) {
                for (var b = "", e = 0, c, d, k; e < a.length;) c = a.charCodeAt(e), 128 > c ? (b += String.fromCharCode(c), e++) : 191 < c && 224 > c ? (d = a.charCodeAt(e + 1), b += String.fromCharCode((c & 31) << 6 | d & 63), e += 2) : (d = a.charCodeAt(e + 1), k = a.charCodeAt(e + 2), b += String.fromCharCode((c & 15) << 12 | (d & 63) << 6 | k & 63), e += 3);
                return b
            }
        };
        c.loadScript = function(a, b) {
            var e;
            b = b || function() {};
            e = document.createElement("script");
            e.type = "text/javascript";
            e.src = a.url;
            e.async = !1;
            e.defer = !1;
            e.onload = e.onreadystatechange = function(a) {
                a = a || window.event;
                if ("load" === a.type || /loaded|complete/.test(e.readyState) && (!document.documentMode || 9 > document.documentMode)) e.onload = e.onreadystatechange = e.onerror = null, b(null, a)
            };
            e.onerror = function(a) {
                e.onload = e.onreadystatechange = e.onerror = null;
                b({
                    msg: "script not loaded",
                    event: a
                })
            };
            var c = document.head || document.getElementsByTagName("head")[0];
            c.insertBefore(e, c.lastChild)
        };
        c.cloneSimpleObject =
            function(a, b) {
                if ("object" !== typeof a || null === a || a instanceof Date) return a;
                var e = new a.constructor,
                    n;
                for (n in a) a.hasOwnProperty(n) && (void 0 === n || b && void 0 === a[n] || (e[n] = c.cloneSimpleObject(a[n])));
                return e
            };
        c.jsonSerialize = function(c) {
            try {
                return "undefined" !== typeof JSON && JSON.stringify ? JSON.stringify(c) : a(c)
            } catch (b) {
                return null
            }
        };
        c.jsonParse = function(a) {
            try {
                return "undefined" !== typeof JSON && JSON.parse ? JSON.parse(a + "") : l(a)
            } catch (b) {
                return null
            }
        };
        c.arrayIndexOf = function(a, b) {
            return Array.indexOf ?
                a.indexOf(b) : function(b) {
                    if (null == this) throw new TypeError;
                    var a = Object(this),
                        c = a.length >>> 0;
                    if (0 === c) return -1;
                    var d = 0;
                    1 < arguments.length && (d = Number(arguments[1]), d != d ? d = 0 : 0 != d && Infinity != d && -Infinity != d && (d = (0 < d || -1) * Math.floor(Math.abs(d))));
                    if (d >= c) return -1;
                    for (d = 0 <= d ? d : Math.max(c - Math.abs(d), 0); d < c; d++)
                        if (d in a && a[d] === b) return d;
                    return -1
                }.apply(a, [b])
        };
        c.uuid = function() {
            return {
                v4: function() {
                    return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, function(a) {
                        var b = 16 * Math.random() | 0;
                        return ("x" ===
                            a ? b : b & 3 | 8).toString(16)
                    })
                },
                num: function(a) {
                    var b = new Date,
                        e = function(b) {
                            b -= 100 * Math.floor(b / 100);
                            return 10 > b ? "0" + b : String(b)
                        };
                    return e(b.getHours()) + "" + e(b.getMinutes()) + "" + e(b.getSeconds()) + "" + function(b) {
                        return Math.floor((9 * Math.random() + 1) * Math.pow(10, b - 1))
                    }(a - 6)
                }
            }
        };
        c.getObjectKeys = function(a) {
            var b = [],
                e;
            for (e in a) a.hasOwnProperty(e) && b.push(e);
            return b
        };
        c.completeFstLevelObj = function(a, b, e) {
            if (a) {
                if (b)
                    for (var c in b) !b.hasOwnProperty(c) || a[c] && !e || (a[c] = b[c])
            } else a = b;
            return a
        };
        c.isPreview =
            function() {
                return window.navigator && "preview" === window.navigator.loadPurpose
            };
        c.isPrerender = function(a) {
            var b, e = !1,
                n = ["webkit", "ms"];
            if ("prerender" === document.visibilityState) b = "visibilitychange";
            else
                for (var d = 0; d < n.length; d++) "prerender" === document[n[d] + "VisibilityState"] && (b = n[d] + "visibilitychange");
            if ("undefined" !== typeof b) {
                var k = function(e) {
                    a(e);
                    c.removeEvtListener(document, b, k)
                };
                c.addEvtListener(document, b, k);
                e = !0
            }
            return e
        };
        var d = c.addEvtListener = function(a, b, e) {
                a.addEventListener ? a.addEventListener(b,
                    e, !1) : a.attachEvent && a.attachEvent("on" + b, e)
            },
            h = c.removeEvtListener = function(a, b, e) {
                a.removeEventListener ? a.removeEventListener(b, e, !1) : a.detachEvent && a.detachEvent("on" + b, e)
            };
        c.hashcode = function(a) {
            var b = 0;
            if (0 === a.length) return b;
            for (var e = 0; e < a.length; e++) var c = a.charCodeAt(e),
                b = (b << 5) - b + c,
                b = b | 0;
            return b
        };
        c.setLocation = function(a) {
            var b = a.location;
            a = window[a.target] || window;
            b && (a.location.href = b)
        };
        c.dispatchCallbackEvent = function(a) {
            var b;
            if ("function" === typeof window.Event) b = new Event("ATCallbackEvent");
            else try {
                b = document.createEvent("Event"), b.initEvent && b.initEvent("ATCallbackEvent", !0, !0)
            } catch (e) {}
            b && "function" === typeof document.dispatchEvent && (b.name = a, document.dispatchEvent(b))
        };
        c.addCallbackEvent = function(a) {
            d(document, "ATCallbackEvent", a)
        };
        c.removeCallbackEvent = function(a) {
            c.removeEvent("ATCallbackEvent", a)
        };
        (function() {
            function a(b, e) {
                e = e || {
                    bubbles: !1,
                    cancelable: !1,
                    detail: void 0
                };
                var c;
                try {
                    c = document.createEvent("CustomEvent"), c.initCustomEvent(b, e.bubbles, e.cancelable, e.detail)
                } catch (d) {}
                return c
            }
            "function" === typeof window.CustomEvent ? window.ATCustomEvent = window.CustomEvent : ("function" === typeof window.Event && (a.prototype = window.Event.prototype), window.ATCustomEvent = a)
        })();
        c.addEvent = function(a, b, e, n) {
            c[a] = new ATCustomEvent(a, {
                detail: {
                    name: b,
                    id: e
                }
            });
            d(document, a, n)
        };
        c.removeEvent = function(a, b) {
            h(document, a, b)
        };
        c.dispatchEvent = function(a, b) {
            c[a] = c[a] || new ATCustomEvent(a, {
                detail: {
                    name: b,
                    id: -1
                }
            });
            try {
                document.dispatchEvent(c[a])
            } catch (e) {}
        };
        c.addOptOutEvent = function(a, b) {
            c.addEvent("ATOptOutEvent",
                "clientsideuserid", a, b)
        };
        c.removeOptOutEvent = function(a) {
            c.removeEvent("ATOptOutEvent", a)
        };
        c.dispatchOptOutEvent = function(a) {
            c.optedOut = a;
            c.dispatchEvent("ATOptOutEvent", "clientsideuserid")
        };
        c.userOptedOut = function() {
            c.dispatchOptOutEvent(!0)
        };
        c.userOptedIn = function() {
            c.dispatchOptOutEvent(!1)
        };
        c.isOptedOut = function() {
            if (null === c.optedOut) {
                var a;
                a: {
                    a = null;c.isLocalStorageAvailable() && (a = localStorage.getItem("atoptedout"));
                    if (null === a) {
                        var b = /(?:^| )atoptedout=([^;]+)/.exec(document.cookie);
                        null !==
                            b && (a = b[1])
                    }
                    if (null !== a) try {
                        a = decodeURIComponent(a)
                    } catch (e) {}
                    if (a && (a = c.jsonParse(a) || c.jsonParse(c.Base64.decode(a)), null !== a)) {
                        a = !!a.val;
                        break a
                    }
                    a = !1
                }
                c.optedOut = a
            }
            return !!c.optedOut
        };
        c.optedOut = null;
        c.consentReceived = function(a) {
            c.consent = !!a
        };
        c.consent = !0;
        c.isTabOpeningAction = function(a) {
            var b = !1;
            a && (a.ctrlKey || a.shiftKey || a.metaKey || a.button && 1 === a.button) && (b = !0);
            return b
        }
    };
    window.ATInternet.Utils = new Utils;
    var BuildManager = function(a) {
            var g = this,
                l = 1600,
                c = ["dz"],
                m = function(b, a, c, d, k, q, f) {
                    b = "&" + b + "=";
                    return {
                        param: b,
                        paramSize: b.length,
                        str: a,
                        strSize: a.length,
                        truncate: c,
                        multihit: d,
                        separator: k || "",
                        encode: q,
                        last: f
                    }
                },
                f = function(b, a) {
                    var c = "",
                        d = 0,
                        k = 0,
                        q = 0,
                        f = null,
                        h = null,
                        p;
                    for (p in b) b.hasOwnProperty(p) && (f = b[p]) && (d = a - k, f.last && null !== h ? h[p] = f : f.strSize + f.paramSize <= d ? (c += f.param + f.str, k += f.paramSize + f.strSize) : (h = h || {}, h[p] = f, f.truncate && (q = d - f.paramSize, f.separator && (d = f.str.substring(0, d), q = f.encode ? d.lastIndexOf(encodeURIComponent(f.separator)) ||
                        q : d.lastIndexOf(f.separator) || q), c += f.param + f.str.substring(0, q), k += f.paramSize + f.str.substring(0, q).size, h[p].str = f.str.substring(q, f.strSize), h[p].strSize = h[p].str.length)));
                    return [c, h]
                },
                d = function(b, e, n, d) {
                    var k = "",
                        q = function(b) {
                            if (b === {}) return [];
                            var e = [],
                                n;
                            n = {};
                            var d = !1,
                                q = void 0,
                                h, r, p, g, w, u, s, v, x = "",
                                t;
                            for (t in b)
                                if (b.hasOwnProperty(t))
                                    if (u = w = g = p = !1, h = b[t].value, r = b[t].options || {}, "boolean" === typeof r.encode && (p = r.encode), "function" === typeof h && (h = h()), h = h instanceof Array ? h.join(r.separator ||
                                            ",") : "object" === typeof h ? ATInternet.Utils.jsonSerialize(h) : "undefined" === typeof h ? "undefined" : h.toString(), p && (h = encodeURIComponent(h)), -1 < ATInternet.Utils.arrayIndexOf(c, t) ? g = !0 : "boolean" === typeof r.truncate && (g = r.truncate), "boolean" === typeof r.multihit && (w = r.multihit), "boolean" === typeof r.last && (u = r.last), h = m(t, h, g, w, r.separator, p, u), w) l -= h.paramSize + h.strSize, x += h.param + h.str;
                                    else if (u) h.paramSize + h.strSize > l && (h.str = h.str.substring(0, l - h.paramSize), h.strSize = h.str.length), s = t, v = h;
                            else if (n[t] =
                                h, n[t].paramSize + n[t].strSize > l && !n[t].truncate) {
                                a.emit("Tracker:Hit:Build:Error", {
                                    lvl: "ERROR",
                                    msg: 'Too long parameter: "' + n[t].param + '"',
                                    details: {
                                        value: n[t].str
                                    }
                                });
                                d = !0;
                                q = t;
                                break
                            }
                            s && (n[s] = v);
                            n = [n, d, q, x];
                            b = n[0];
                            d = n[1];
                            k = n[3];
                            d && (n = n[2], b = b[n], b.str = b.str.substring(0, l - b.paramSize), b.strSize = b.str.length, d = {}, d.mherr = m("mherr", "1", !1, !1, "", !1), d[n] = b, b = d);
                            b = f(b, l);
                            if (null === b[1]) e = b[0];
                            else
                                for (e.push(b[0]); null !== b[1];) b = f(b[1], l), e.push(b[0]);
                            return e
                        },
                        h = "";
                    a.buffer.presentInFilters(n, "hitType") ||
                        (n = a.buffer.addInFilters(n, "hitType", ["page"]));
                    n = a.buffer.addInFilters(n, "hitType", ["all"]);
                    var p;
                    if ("object" === typeof b && null !== b) {
                        n = a.buffer.addInFilters(n, "permanent", !0);
                        n = a.buffer.get(n, !0);
                        var g, u, x, s;
                        for (p in b)
                            if (b.hasOwnProperty(p)) {
                                h = b[p];
                                g = {};
                                if (e && "object" === typeof b[p]) {
                                    x = u = !1;
                                    for (s in b[p]) b[p].hasOwnProperty(s) && ("value" === s ? u = !0 : "options" === s && "object" === typeof b[p].options && null !== b[p].options && (x = !0));
                                    u && x && (h = b[p].value, g = b[p].options)
                                }
                                n[p] = {
                                    value: h,
                                    options: g
                                }
                            } h = q(n)
                    } else
                        for (p in n =
                            a.buffer.get(n, !0), h = q(n), n) !n.hasOwnProperty(p) || n[p].options && n[p].options.permanent || a.buffer.del(p);
                    d && d(h, k)
                },
                h = function(b, e) {
                    var c = a.getConfig("secure"),
                        d = "";
                    if (b) d = b;
                    else var d = "https:" === document.location.protocol,
                        k = (d = c || d) ? a.getConfig("logSSL") : a.getConfig("log"),
                        q = a.getConfig("domain"),
                        d = k && q ? k + "." + q : d ? a.getConfig("collectDomainSSL") : a.getConfig("collectDomain");
                    k = a.getConfig("baseURL");
                    q = (q = a.getConfig("pixelPath")) || "/";
                    "/" !== q.charAt(0) && (q = "/" + q);
                    var h = a.getConfig("site");
                    if ((k || d &&
                            q) && h) {
                        var f = "//";
                        c && (f = "https:" + f);
                        e && e(null, (k ? k : f + d + q) + ("?s=" + h))
                    } else e && e({
                        message: "Config error"
                    })
                },
                p = function(b, a, c, f, k) {
                    h(f, function(q, h) {
                        q ? k && k(q) : (l = 1600 - (h.length + 27), d(b, a, c, function(b, a) {
                            var e = [],
                                c = ATInternet.Utils.uuid().num(13);
                            if (b instanceof Array)
                                for (var n = 1; n <= b.length; n++) e.push(h + a + "&mh=" + n + "-" + b.length + "-" + c + b[n - 1]);
                            else e.push(h + a + b);
                            k && k(null, e)
                        }))
                    })
                };
            g.send = function(b, e, c, d, k) {
                p(b, k, e, d, function(b, e) {
                    if (b) a.emit("Tracker:Hit:Build:Error", {
                            lvl: "ERROR",
                            msg: b.message,
                            details: {}
                        }),
                        c && c();
                    else
                        for (var d = 0; d < e.length; d++) g.sendUrl(e[d], c)
                })
            };
            g.sendUrl = function(b, e) {
                var c = function(b, c, d) {
                    return function() {
                        return function(n) {
                            var h = "";
                            if ("/" === c.charAt(0)) var h = a.getConfig("secure"),
                                f = "https:" === document.location.protocol,
                                h = h || f ? "https:" : "http:";
                            a.emit(b, {
                                lvl: d,
                                details: {
                                    hit: h + c,
                                    event: n
                                }
                            });
                            e && e()
                        }
                    }()
                };
                if (ATInternet.Utils.isOptedOut() && !a.getConfig("sendHitWhenOptOut")) c("Tracker:Hit:Sent:NoTrack", b, "INFO")();
                else {
                    var d = new Image;
                    d.onload = c("Tracker:Hit:Sent:Ok", b, "INFO");
                    d.onerror =
                        c("Tracker:Hit:Sent:Error", b, "ERROR");
                    d.src = b
                }
            }
        },
        TriggersManager = function() {
            function a(a, c, d) {
                for (var h = [], p = 0; p < a.length; p++) a[p].callback(c, d), a[p].singleUse || h.push(a[p]);
                return h
            }

            function g(a, c, d, h) {
                var p = a.shift();
                if ("*" === p) return c["*"] = c["*"] || [], c["*"].push({
                    callback: d,
                    singleUse: h
                }), c["*"].length - 1;
                if (0 === a.length) return g([p, "*"], c, d, h);
                c["*"] = c["*"] || [];
                c[p] = c[p] || {};
                return g(a, c[p], d, h)
            }

            function l(c, f, d, h) {
                var p = f.shift();
                "*" !== p && (0 === f.length ? l(c, [p, "*"], d, h) : d[p] && (d[p]["*"] = a(d[p]["*"],
                    c, h), l(c, f, d[p], h)))
            }
            var c = {};
            this.on = function(a, f, d) {
                d = d || !1;
                return g(a.split(":"), c, f, d)
            };
            this.emit = function(g, f) {
                c["*"] && (c["*"] = a(c["*"], g, f));
                l(g, g.split(":"), c, f)
            }
        },
        PluginsManager = function(a) {
            var g = {},
                l = {},
                c = 0,
                m = {},
                f = 0,
                d = function(b) {
                    var a = !1;
                    g[b] && (a = !0);
                    return a
                },
                h = this.unload = function(b) {
                    d(b) ? (g[b] = void 0, a.emit("Tracker:Plugin:Unload:" + b + ":Ok", {
                        lvl: "INFO"
                    })) : a.emit("Tracker:Plugin:Unload:" + b + ":Error", {
                        lvl: "ERROR",
                        msg: "not a known plugin"
                    });
                    return a
                },
                p = this.load = function(b, e) {
                    "function" ===
                    typeof e ? "undefined" === typeof a.getConfig.plgAllowed || 0 === a.getConfig.plgAllowed.length || -1 < a.getConfig.plgAllowed.indexOf(b) ? (g[b] = new e(a), l[b] && d(b) && (l[b] = !1, c--, d(b + "_ll") && h(b + "_ll"), 0 === c && a.emit("Tracker:Plugin:Lazyload:File:Complete", {
                        lvl: "INFO",
                        msg: "LazyLoading triggers are finished"
                    })), a.emit("Tracker:Plugin:Load:" + b + ":Ok", {
                        lvl: "INFO"
                    })) : a.emit("Tracker:Plugin:Load:" + b + ":Error", {
                        lvl: "ERROR",
                        msg: "Plugin not allowed",
                        details: {}
                    }) : a.emit("Tracker:Plugin:Load:" + b + ":Error", {
                        lvl: "ERROR",
                        msg: "not a function",
                        details: {
                            obj: e
                        }
                    });
                    return a
                },
                b = this.isLazyloading = function(b) {
                    return b ? !0 === l[b] : 0 !== c
                },
                e = function(a) {
                    return !d(a) && !b(a) && d(a + "_ll")
                },
                n = function(b) {
                    l[b] = !0;
                    c++;
                    ATInternet.Utils.loadScript({
                        url: a.getConfig("lazyLoadingPath") + b + ".js"
                    })
                },
                r = function(b) {
                    return e(b) ? (n(b), !0) : !1
                },
                k = function(b) {
                    m[b] ? m[b]++ : m[b] = 1;
                    f++
                };
            this.isExecWaitingLazyloading = function() {
                return 0 !== f
            };
            a.exec = this.exec = function(c, h, p, r) {
                var l = null,
                    x = function(b, a, e, c) {
                        a = a.split(".");
                        d(b) && g[b][a[0]] && (l = 1 < a.length && g[b][a[0]][a[1]] ? g[b][a[0]][a[1]].apply(g[b],
                            e) : g[b][a[0]].apply(g[b], e));
                        c && c(l)
                    },
                    s = function(b, e, c, d) {
                        k(b);
                        a.onTrigger("Tracker:Plugin:Load:" + b + ":Ok", function() {
                            x(b, e, c, function(e) {
                                m[b]--;
                                f--;
                                0 === f && a.emit("Tracker:Plugin:Lazyload:Exec:Complete", {
                                    lvl: "INFO",
                                    msg: "All exec waiting for lazyloading are done"
                                });
                                d && d(e)
                            })
                        }, !0)
                    };
                e(c) ? (s(c, h, p, r), n(c)) : b(c) ? s(c, h, p, r) : x(c, h, p, r)
            };
            this.waitForDependencies = function(b, e) {
                var c = function(b) {
                    for (var a = {
                            mcount: 0,
                            plugins: {}
                        }, e = 0; e < b.length; e++) g.hasOwnProperty(b[e]) || (a.mcount++, a.plugins[b[e]] = !0);
                    return a
                }(b);
                if (0 === c.mcount) a.emit("Tracker:Plugin:Dependencies:Loaded", {
                    lvl: "INFO",
                    details: {
                        dependencies: b
                    }
                }), e();
                else
                    for (var d in c.plugins) c.plugins.hasOwnProperty(d) && (a.emit("Tracker:Plugin:Dependencies:Error", {
                        lvl: "WARNING",
                        msg: "Missing plugin " + d
                    }), a.onTrigger("Tracker:Plugin:Load:" + d, function(b, a) {
                        var d = b.split(":"),
                            n = d[3];
                        "Ok" === d[4] && (c.plugins[n] = !1, c.mcount--, 0 === c.mcount && e())
                    }, !0), r(d))
            };
            this.init = function() {
                for (var b in ATInternet.Tracker.pluginProtos) ATInternet.Tracker.pluginProtos.hasOwnProperty(b) &&
                    p(b, ATInternet.Tracker.pluginProtos[b])
            }
        },
        CallbacksManager = function(a) {
            var g = this,
                l = {},
                c = function(a) {
                    if (a.name) {
                        var c = !0;
                        "undefined" !== typeof configuration && (configuration.include instanceof Array && -1 === ATInternet.Utils.arrayIndexOf(configuration.include, a.name) && (c = !1), configuration.exclude instanceof Array && -1 !== ATInternet.Utils.arrayIndexOf(configuration.exclude, a.name) && (c = !1));
                        if (ATInternet.Callbacks && ATInternet.Callbacks.hasOwnProperty(a.name)) {
                            var d = {};
                            d[a.name] = {
                                "function": ATInternet.Callbacks[a.name]
                            };
                            c && g.load(a.name, d[a.name]["function"]);
                            ATInternet.Tracker.callbackProtos[a.name] || (ATInternet.Tracker.callbackProtos[a.name] = d[a.name])
                        }
                    }
                };
            g.load = function(c, f) {
                "function" === typeof f ? (new f(a), a.emit("Tracker:Callback:Load:" + c + ":Ok", {
                    lvl: "INFO",
                    details: {
                        obj: f
                    }
                })) : a.emit("Tracker:Callback:Load:" + c + ":Error", {
                    lvl: "ERROR",
                    msg: "not a function",
                    details: {
                        obj: f
                    }
                });
                return a
            };
            g.init = function() {
                if (a.getConfig("activateCallbacks")) {
                    var m = a.getConfig("callbacks");
                    if ("undefined" !== typeof m && m.include instanceof Array)
                        for (var f = 0; f < m.include.length; f++) ATInternet.Callbacks && ATInternet.Callbacks.hasOwnProperty(m.include[f]) && (l[m.include[f]] = {
                            "function": ATInternet.Callbacks[m.include[f]]
                        }, ATInternet.Tracker.callbackProtos[m.include[f]] || (ATInternet.Tracker.callbackProtos[m.include[f]] = l[m.include[f]]));
                    else
                        for (f in ATInternet.Callbacks) ATInternet.Callbacks.hasOwnProperty(f) && (l[f] = {
                            "function": ATInternet.Callbacks[f]
                        }, ATInternet.Tracker.callbackProtos[f] || (ATInternet.Tracker.callbackProtos[f] = l[f]));
                    if ("undefined" !==
                        typeof m && m.exclude instanceof Array)
                        for (f = 0; f < m.exclude.length; f++) l[m.exclude[f]] && (l[m.exclude[f]] = void 0);
                    for (var d in l) l.hasOwnProperty(d) && l[d] && g.load(d, l[d]["function"]);
                    ATInternet.Utils.addCallbackEvent(c)
                }
            };
            g.removeCallbackEvent = function() {
                ATInternet.Utils.removeCallbackEvent(c)
            }
        },
        BufferManager = function(a) {
            var g = {};
            this.set = function(a, c, d) {
                d = d || {};
                d.hitType = d.hitType || ["page"];
                g[a] = {
                    value: c,
                    options: d
                }
            };
            var l = function(a, c, d) {
                    return (a = window.ATInternet.Utils.cloneSimpleObject(a[c])) && !d ?
                        a.value : a
                },
                c = function f(a, c) {
                    if (!(a && c instanceof Array && a instanceof Array)) return [];
                    if (0 === a.length) return c;
                    var p = a[0],
                        b, e = [],
                        n = window.ATInternet.Utils.cloneSimpleObject(a);
                    n.shift();
                    for (var r = 0; r < c.length; r++)
                        if ("object" !== typeof p[1]) g[c[r]] && g[c[r]].options[p[0]] === p[1] && e.push(c[r]);
                        else {
                            b = p[1].length;
                            for (var k = 0; k < b; k++)
                                if (g[c[r]] && g[c[r]].options[p[0]] instanceof Array && 0 <= window.ATInternet.Utils.arrayIndexOf(g[c[r]].options[p[0]], p[1][k])) {
                                    e.push(c[r]);
                                    break
                                }
                        } return f(n, e)
                };
            this.get = function(a,
                d) {
                var h = {};
                if ("string" === typeof a) h = l(g, a, d);
                else
                    for (var p = c(a, window.ATInternet.Utils.getObjectKeys(g)), b = 0; b < p.length; b++) h[p[b]] = l(g, p[b], d);
                return h
            };
            this.presentInFilters = function d(a, c) {
                return a && 0 !== a.length ? a[0][0] === c ? !0 : d(a.slice(1), c) : !1
            };
            this.addInFilters = function h(a, b, e, c) {
                if (!a || 0 === a.length) return c ? [] : [
                    [b, e]
                ];
                var r = a[0][0],
                    k = a[0][1];
                r === b && (k instanceof Array && -1 === window.ATInternet.Utils.arrayIndexOf(k, e[0]) && k.push(e[0]), c = !0);
                return [
                    [r, k]
                ].concat(h(a.slice(1), b, e, c))
            };
            this.del =
                function(a) {
                    g[a] = void 0
                };
            this.clear = function() {
                g = {}
            }
        },
        Tag = function(a, g, l) {
            g = g || {};
            var c = this;
            c.version = "5.18.0";
            var m = window.ATInternet.Utils.cloneSimpleObject(g);
            c.triggers = new TriggersManager(c);
            c.emit = c.triggers.emit;
            c.onTrigger = c.triggers.on;
            var f = window.ATInternet.Utils.cloneSimpleObject(dfltGlobalCfg) || {},
                d;
            for (d in a) a.hasOwnProperty(d) && (f[d] = a[d]);
            c.getConfig = function(a) {
                return f[a]
            };
            c.setConfig = function(a, d, b) {
                void 0 !== f[a] && b || (c.emit("Tracker:Config:Set:" + a, {
                    lvl: "INFO",
                    details: {
                        bef: f[a],
                        aft: d
                    }
                }), f[a] = d)
            };
            c.configPlugin = function(a, d, b) {
                f[a] = f[a] || {};
                for (var e in d) d.hasOwnProperty(e) && void 0 === f[a][e] && (f[a][e] = d[e]);
                b && (b(f[a]), c.onTrigger("Tracker:Config:Set:" + a, function(a, e) {
                    b(e.details.aft)
                }));
                return f[a]
            };
            c.getContext = function(a) {
                return m[a]
            };
            c.setContext = function(a, d) {
                c.emit("Tracker:Context:Set:" + a, {
                    lvl: "INFO",
                    details: {
                        bef: m[a],
                        aft: d
                    }
                });
                m[a] = d
            };
            c.delContext = function(a, d) {
                c.emit("Tracker:Context:Deleted:" + a + ":" + d, {
                    lvl: "INFO",
                    details: {
                        key1: a,
                        key2: d
                    }
                });
                if (a) m.hasOwnProperty(a) &&
                    (d ? m[a] && m[a].hasOwnProperty(d) && (m[a][d] = void 0) : m[a] = void 0);
                else if (d)
                    for (var b in m) m.hasOwnProperty(b) && m[b] && m[b].hasOwnProperty(d) && (m[b][d] = void 0)
            };
            c.plugins = new PluginsManager(c);
            c.buffer = new BufferManager(c);
            c.setParam = c.buffer.set;
            c.getParams = function(a) {
                return c.buffer.get(a, !1)
            };
            c.getParam = c.buffer.get;
            c.delParam = c.buffer.del;
            c.builder = new BuildManager(c);
            c.sendHit = c.builder.send;
            c.sendUrl = c.builder.sendUrl;
            c.callbacks = new CallbacksManager(c);
            c.setParam("ts", function() {
                return (new Date).getTime()
            }, {
                permanent: !0,
                hitType: ["all"]
            });
            (c.getConfig("disableCookie") || c.getConfig("disableStorage")) && c.setParam("idclient", "Consent-NO", {
                permanent: !0,
                hitType: ["all"]
            });
            c.getConfig("medium") && c.setParam("medium", c.getConfig("medium"), {
                permanent: !0,
                hitType: ["all"]
            });
            c.plugins.init();
            c.callbacks.init();
            ATInternet.Tracker.instances.push(c);
            c.emit("Tracker:Ready", {
                lvl: "INFO",
                msg: "Tracker initialized",
                details: {
                    tracker: c,
                    args: {
                        config: a,
                        context: g,
                        callback: l
                    }
                }
            });
            l && l(c)
        };
    ATInternet.Tracker.Tag = Tag;
    ATInternet.Tracker.instances = [];
    ATInternet.Tracker.pluginProtos = {};
    ATInternet.Tracker.addPlugin = function(a, g) {
        g = g || ATInternet.Tracker.Plugins[a];
        if (!ATInternet.Tracker.pluginProtos[a]) {
            ATInternet.Tracker.pluginProtos[a] = g;
            for (var l = 0; l < ATInternet.Tracker.instances.length; l++) ATInternet.Tracker.instances[l].plugins.load(a, g)
        }
    };
    ATInternet.Tracker.delPlugin = function(a) {
        if (ATInternet.Tracker.pluginProtos[a]) {
            ATInternet.Tracker.pluginProtos[a] = void 0;
            for (var g = 0; g < ATInternet.Tracker.instances.length; g++) ATInternet.Tracker.instances[g].plugins.unload(a)
        }
    };
    ATInternet.Tracker.callbackProtos = {};
}).call(window);;
(function() {
    var dfltPluginCfg = {
        "lifetime": 30,
        "lastPersistence": true,
        "listEventsForExec": [],
        "domainAttribution": true,
        "info": true
    };
    var dfltGlobalCfg = {
        "visitLifetime": 30,
        "redirectionLifetime": 30
    };
    window.ATInternet.Tracker.Plugins.Campaigns = function(a) {
        a.setConfig("visitLifetime", dfltGlobalCfg.visitLifetime, !0);
        a.setConfig("redirectionLifetime", dfltGlobalCfg.redirectionLifetime, !0);
        var g = {},
            l, c;
        a.configPlugin("Campaigns", dfltPluginCfg || {}, function(b) {
            g = b
        });
        var m, f, d, h, p, b, e, n, r, k, q, v, w, t = function() {
                var b = function(b) {
                        var a = "";
                        b && (a = isNaN(b) && -1 === b.search(/\[(.*?)\]/g) ? "[" + b + "]" : b);
                        return a
                    },
                    e = function(b) {
                        for (;
                            "-" === b.charAt(b.length - 1);) b = b.substring(0, b.length - 1);
                        return b
                    };
                this.SponsoredLinks =
                    function() {
                        var c = {
                                google: "goo",
                                yahoo: "ysm",
                                miva: "miv",
                                orange: "wan",
                                msn: "msn",
                                mirago: "mir",
                                sklik: "skl",
                                adfox: "adf",
                                etarget: "etg",
                                yandex: "yan",
                                ebay: "eba",
                                searchalliance: "sal",
                                bing: "bin",
                                naver: "nav",
                                baidu: "bdu",
                                qwant: "qwt",
                                waze: "waz",
                                amazon: "amz"
                            },
                            d = {
                                search: "s",
                                content: "c"
                            };
                        this.at_medium = "sl";
                        this.at_term = this.at_network = this.at_variant = this.at_creation = this.at_platform = this.at_campaign = "";
                        this.format = function() {
                            var a = "sec",
                                n = b(this.at_campaign),
                                k = c[this.at_platform] || "",
                                f = b(this.at_creation),
                                q = b(this.at_variant),
                                h = d[this.at_network] || "",
                                r = b(this.at_term);
                            return e(a + ("-" + n + "-" + k + "-" + f + "-" + q + "-" + h + "-" + r))
                        };
                        this.setProperties = function(b) {
                            this.at_campaign = a.utils.getQueryStringValue("at_campaign", b) || "";
                            this.at_platform = a.utils.getQueryStringValue("at_platform", b) || "";
                            this.at_creation = a.utils.getQueryStringValue("at_creation", b) || "";
                            this.at_variant = a.utils.getQueryStringValue("at_variant", b) || "";
                            this.at_network = a.utils.getQueryStringValue("at_network", b) || "";
                            this.at_term = a.utils.getQueryStringValue("at_term",
                                b) || ""
                        }
                    };
                this.Email = function() {
                    var c = {
                        acquisition: "erec",
                        retention: "epr",
                        promotion: "es"
                    };
                    this.at_medium = "email";
                    this.at_send_time = this.at_recipient_list = this.at_recipient_id = this.at_link = this.at_send_date = this.at_creation = this.at_campaign = this.at_emailtype = "";
                    this.format = function() {
                        var a = c[this.at_emailtype] || c.promotion,
                            d = b(this.at_campaign),
                            n = b(this.at_creation),
                            k = this.at_send_date,
                            f = b(this.at_link),
                            a = a + ("-" + d + "-" + n + "-" + k + "-" + f + "-" + (this.at_recipient_id + (this.at_recipient_list ? "@" + this.at_recipient_list :
                                "")) + "-" + this.at_send_time);
                        return e(a)
                    };
                    this.setProperties = function(b) {
                        this.at_emailtype = a.utils.getQueryStringValue("at_emailtype", b) || "";
                        this.at_campaign = a.utils.getQueryStringValue("at_campaign", b) || "";
                        this.at_creation = a.utils.getQueryStringValue("at_creation", b) || "";
                        this.at_send_date = a.utils.getQueryStringValue("at_send_date", b) || "";
                        this.at_link = a.utils.getQueryStringValue("at_link", b) || "";
                        this.at_recipient_id = a.utils.getQueryStringValue("at_recipient_id", b) || "";
                        this.at_recipient_list = a.utils.getQueryStringValue("at_recipient_list",
                            b) || "";
                        this.at_send_time = a.utils.getQueryStringValue("at_send_time", b) || ""
                    }
                };
                this.Affiliate = function() {
                    this.at_medium = "affiliate";
                    this.at_variant = this.at_creation = this.at_format = this.at_identifier = this.at_type = this.at_campaign = "";
                    this.format = function() {
                        var a = "al",
                            c = b(this.at_campaign),
                            d = b(this.at_type),
                            n = b(this.at_identifier),
                            k = b(this.at_format),
                            f = b(this.at_creation),
                            q = b(this.at_variant);
                        return e(a + ("-" + c + "-" + d + "-" + n + "-" + k + "-" + f + "-" + q))
                    };
                    this.setProperties = function(b) {
                        this.at_campaign = a.utils.getQueryStringValue("at_campaign",
                            b) || "";
                        this.at_type = a.utils.getQueryStringValue("at_type", b) || "";
                        this.at_identifier = a.utils.getQueryStringValue("at_identifier", b) || "";
                        this.at_format = a.utils.getQueryStringValue("at_format", b) || "";
                        this.at_creation = a.utils.getQueryStringValue("at_creation", b) || "";
                        this.at_variant = a.utils.getQueryStringValue("at_variant", b) || ""
                    }
                };
                this.Display = function() {
                    this.at_medium = "display";
                    this.at_detail_placement = this.at_general_placement = this.at_channel = this.at_format = this.at_variant = this.at_creation = this.at_campaign =
                        "";
                    this.format = function() {
                        var a = "ad",
                            c = b(this.at_campaign),
                            d = b(this.at_creation),
                            n = b(this.at_variant),
                            k = b(this.at_format),
                            f = b(this.at_channel),
                            q = b(this.at_general_placement),
                            h = b(this.at_detail_placement);
                        return e(a + ("-" + c + "-" + d + "-" + n + "-" + k + "-" + f + "-" + q + "-" + h))
                    };
                    this.setProperties = function(b) {
                        this.at_campaign = a.utils.getQueryStringValue("at_campaign", b) || "";
                        this.at_creation = a.utils.getQueryStringValue("at_creation", b) || "";
                        this.at_variant = a.utils.getQueryStringValue("at_variant", b) || "";
                        this.at_format =
                            a.utils.getQueryStringValue("at_format", b) || "";
                        this.at_channel = a.utils.getQueryStringValue("at_channel", b) || "";
                        this.at_general_placement = a.utils.getQueryStringValue("at_general_placement", b) || "";
                        this.at_detail_placement = a.utils.getQueryStringValue("at_detail_placement", b) || ""
                    }
                };
                this.Custom = function() {
                    this.at_custom4 = this.at_custom3 = this.at_custom2 = this.at_custom1 = this.at_campaign = this.at_medium = "";
                    this.format = function() {
                        var a = "";
                        /\d+$/.test(this.at_medium) && (a = /\d+$/.exec(this.at_medium)[0]);
                        var a =
                            "cs" + a,
                            c = b(this.at_campaign),
                            d = b(this.at_custom1),
                            n = b(this.at_custom2),
                            k = b(this.at_custom3),
                            f = b(this.at_custom4);
                        return e(a + ("-" + c + "-" + d + "-" + n + "-" + k + "-" + f))
                    };
                    this.setProperties = function(b) {
                        this.at_medium = a.utils.getQueryStringValue("at_medium", b) || "";
                        this.at_campaign = a.utils.getQueryStringValue("at_campaign", b) || "";
                        this.at_custom1 = a.utils.getQueryStringValue("at_custom1", b) || "";
                        this.at_custom2 = a.utils.getQueryStringValue("at_custom2", b) || "";
                        this.at_custom3 = a.utils.getQueryStringValue("at_custom3",
                            b) || "";
                        this.at_custom4 = a.utils.getQueryStringValue("at_custom4", b) || ""
                    }
                };
                this.medium = {
                    sl: this.SponsoredLinks,
                    email: this.Email,
                    affiliate: this.Affiliate,
                    display: this.Display
                }
            },
            u = function(b, e) {
                var d = a.storage[c](b);
                if (null !== d) return "object" === typeof d && !(d instanceof Array);
                a.storage[l](b, {}, e);
                return !0
            },
            x = function(b, e) {
                var c = a.getContext("campaigns") || {};
                c[b] = e;
                a.setContext("campaigns", c)
            };
        (function() {
            a.plugins.waitForDependencies(["Storage", "Utils"], function() {
                l = "set" + (g.domainAttribution ? "" : "Private");
                c = "get" + (g.domainAttribution ? "" : "Private");
                m = a.storage[c](["atredir", "gopc"]);
                f = a.storage[c](["atredir", "gopc_err"]);
                d = a.storage[c](["atredir", "camp"]);
                a.storage.del(["atredir", "gopc"]);
                a.storage.del(["atredir", "gopc_err"]);
                a.storage.del(["atredir", "camp"]);
                h = a.storage[c](["atsession", "histo_camp"]);
                p = a.storage[c](["atreman", "camp"]);
                b = a.storage[c](["atreman", "date"]);
                var s = a.utils.getLocation(),
                    y = a.utils.getQueryStringValue("at_medium", s);
                if (y) {
                    var A = new t,
                        y = "function" === typeof A.medium[y] ? new A.medium[y] :
                        new A.Custom;
                    y.setProperties(s);
                    e = y.format()
                } else e = a.utils.getQueryStringValue("xtor", s);
                n = a.utils.getQueryStringValue("xtdt", s);
                r = a.utils.getQueryStringValue("xts", s);
                k = a.getContext("forcedCampaign");
                q = !!a.getConfig("redirect");
                v = !!(e && n && r);
                w = !1;
                v && (s = (new Date).getTime() / 6E4, w = !q && r !== a.getConfig("site") || 0 > s - n || s - n >= a.getConfig("visitLifetime"));
                s = k || d || e;
                q && s && u("atredir", {
                    path: "/",
                    end: a.getConfig("redirectionLifetime")
                }) && (a.storage[l](["atredir", "camp"], s), y = s = !1, k || (d ? (s = m, y = f) : (s = v, y = w)),
                    a.storage[l](["atredir", "gopc"], s), a.storage[l](["atredir", "gopc_err"], y));
                !q && p && (x("xtor", p), s = (new Date).getTime() / 36E5, s = Math.floor(s - b), x("roinbh", 0 <= s ? s : 0));
                q || (s = null, s = d ? m ? k || s : k || d : v ? k : k || e || s, h && h instanceof Array && -1 < h.indexOf(s) && (s = null), s && x("xto", s));
                if (!q && !k) {
                    var z;
                    d ? f && (z = d) : w && (z = e);
                    z && x("pgt", z)
                }
                if (!q && (z = d ? k || d : k || e || null) && !(!k && !d && v && w || !k && d && m && f)) {
                    if ((!h || h instanceof Array && 0 > h.indexOf(z)) && u("atsession", {
                            path: "/",
                            session: 60 * a.getConfig("visitLifetime")
                        })) a.storage[l](["atsession",
                        "histo_camp"
                    ], h && h.push(z) ? h : [z]);
                    p && !g.lastPersistence || !u("atreman", {
                        path: "/",
                        session: 86400 * g.lifetime
                    }) || (a.storage[l](["atreman", "camp"], z), a.storage[l](["atreman", "date"], (new Date).getTime() / 36E5))
                }
                a.emit("Campaigns:process:done", {
                    lvl: "INFO"
                })
            })
        })()
    };
    window.ATInternet.Tracker.addPlugin("Campaigns");
}).call(window);;
(function() {
    var dfltPluginCfg = {
        "info": true
    };
    var dfltGlobalCfg = {};
    window.ATInternet.Tracker.Plugins.Clicks = function(a) {
        var g = function(a) {
                var c = "";
                switch (a) {
                    case "exit":
                        c = "S";
                        break;
                    case "download":
                        c = "T";
                        break;
                    case "action":
                        c = "A";
                        break;
                    case "navigation":
                        c = "N"
                }
                return c
            },
            l = function(c) {
                return a.utils.manageChapters(c, "chapter", 3) + (c.name ? c.name : "")
            },
            c = function(c) {
                var f = {
                        p: l(c),
                        s2: c.level2 || "",
                        click: g(c.type) || ""
                    },
                    d = ["click"],
                    h = a.getContext("page") || {};
                f.pclick = l(h);
                f.s2click = h.level2 || "";
                var h = c.customObject,
                    p = !1;
                h && (p = !0, h = a.processTagObject("stc", d, h), f.stc = {
                    value: ATInternet.Utils.jsonSerialize(h),
                    options: {
                        hitType: d,
                        encode: !0,
                        separator: ",",
                        truncate: !0
                    }
                });
                a.sendHit(f, [
                    ["hitType", d]
                ], c.callback, null, p)
            };
        a.click = {};
        a.clickListener = this.clickListener = {};
        a.click.send = this.send = function(g) {
            var f = !0,
                d = null;
            g && g.hasOwnProperty("event") && (d = g.event || window.event);
            !ATInternet.Utils.isTabOpeningAction(d) && g.elem && (f = a.techClicks.manageClick(g.elem, d));
            c(g);
            return f
        };
        a.clickListener.send = this.clickListener.send = function(g) {
            if (g.elem) {
                var f = "click";
                a.plugins.exec("TechClicks", "isFormSubmit", [g.elem], function(a) {
                    f =
                        a ? "submit" : "click"
                });
                ATInternet.Utils.addEvtListener(g.elem, f, function(d) {
                    ATInternet.Utils.isTabOpeningAction(d) || a.techClicks.manageClick(g.elem, d);
                    c(g)
                })
            }
        };
        a.click.set = this.set = function(c) {
            a.dispatchSubscribe("click");
            a.setContext("click", {
                name: l(c),
                level2: c.level2 || "",
                customObject: c.customObject
            });
            a.setParam("click", g(c.type) || "", {
                hitType: ["click"]
            })
        };
        a.click.onDispatch = this.onDispatch = function(c) {
            var f = ["click"],
                d = a.getContext("click") || {},
                h = a.getContext("page") || {};
            a.setParam("pclick", l(h), {
                hitType: f
            });
            a.setParam("s2click", h.level2 || "", {
                hitType: f
            });
            a.setParam("p", d.name, {
                hitType: f
            });
            a.setParam("s2", d.level2, {
                hitType: f
            });
            (d = d.customObject) ? a.processContextObjectAndSendHit("stc", {
                hitType: f,
                encode: !0,
                separator: ",",
                truncate: !0
            }, d, c): a.manageSend(function() {
                a.sendHit(null, [
                    ["hitType", f]
                ], c)
            });
            a.setContext("click", void 0)
        }
    };
    window.ATInternet.Tracker.addPlugin("Clicks");
}).call(window);;
(function() {
    var dfltPluginCfg = {
        "clientSideMode": "always",
        "userIdCookieDuration": 397,
        "userIdExpirationMode": "fixed",
        "optOut": "OPT-OUT",
        "userIdStorageName": "atuserid",
        "optOutStorageName": "atoptedout",
        "itpCompliant": false,
        "baseDomain": "",
        "info": true
    };
    var dfltGlobalCfg = {};
    window.ATInternet.Tracker.Plugins.ClientSideUserId = function(a) {
        var g = {},
            l = !1,
            c = void 0,
            m = null,
            f = !1,
            d = !1,
            h = !1,
            p = null,
            b = "",
            e = !1,
            n = !1,
            r = -1;
        a.configPlugin("ClientSideUserId", dfltPluginCfg || {}, function(b) {
            g = b
        });
        var k = function() {
                var b = g.baseDomain;
                if (!b) {
                    var e = a.getConfig("cookieDomain");
                    e && (b = e, "." === b.charAt(0) && (b = b.substring(1, b.length)))
                }
                var e = a.utils.getCollectDomain(),
                    c = a.utils.getHostName();
                return b && e && c && -1 < e.indexOf(b) && -1 < c.indexOf(b) ? (a.setConfig("secure", !0), a.setConfig("logSSL", a.getConfig("logSSL") ||
                    a.getConfig("log")), a.setConfig("collectDomainSSL", a.getConfig("collectDomainSSL") || a.getConfig("collectDomain")), !0) : !1
            },
            q = function() {
                if ("relative" === g.userIdExpirationMode || "fixed" === g.userIdExpirationMode && null === m || e) {
                    var c = new Date;
                    c.setTime(c.getTime() + 864E5 * g.userIdCookieDuration);
                    a.storage.set(b, p, {
                        end: c,
                        path: "/"
                    }, n);
                    c = a.storage.get(b, !0);
                    ATInternet.Utils.consent && !e && p !== c && a.setParam("idclient", p + "-NO", {
                        multihit: !0,
                        permanent: !0,
                        hitType: ["all"]
                    })
                }
            },
            v = function() {
                a.setParam("idclient", p, {
                    multihit: !0,
                    permanent: !0,
                    hitType: ["all"]
                });
                q()
            },
            w = function() {
                c = a.getContext("userIdentifier");
                m = a.storage.get("atuserid");
                var q = !1;
                if ("required" === g.clientSideMode) {
                    var r = "";
                    window.navigator && (r = window.navigator.userAgent);
                    if (/Safari/.test(r) && !/Chrome/.test(r) || /iPhone|iPod|iPad/.test(r)) q = !0
                } else "always" === g.clientSideMode && (q = !0);
                f = q;
                q = !1;
                r = ATInternet.Utils.optedOut;
                !1 === r && (a.storage.del("atoptedout"), a.getParam("idclient") === g.optOut && a.delParam("idclient"));
                var w = a.storage.get("atoptedout", !0);
                if (!0 ===
                    r || w === g.optOut) q = !0;
                q && (ATInternet.Utils.optedOut = !0);
                d = q;
                h = "undefined" !== typeof c;
                q = !1;
                if (g.itpCompliant && !h && !d) switch (g.clientSideMode) {
                    case "never":
                        q = k();
                        break;
                    case "always":
                    case "required":
                        f && null !== m || (q = k())
                }
                l = q;
                !l && (f || d || h) ? (a.setConfig("userIdOrigin", "client"), b = g.userIdStorageName, n = e = !1, d ? (p = g.optOut, b = g.optOutStorageName, n = e = !0) : a.getConfig("disableCookie") || a.getConfig("disableStorage") ? (p = a.getParam("idclient"), e = !0) : h ? (p = c, e = !0) : p = null !== m ? m : ATInternet.Utils.uuid().v4(), v()) : a.setConfig("userIdOrigin",
                    "server")
            },
            t = function(b) {
                b && (b = b.detail) && "clientsideuserid" === b.name && b.id === r && w()
            };
        (function() {
            a.plugins.waitForDependencies(["Storage", "Utils"], function() {
                var b = ATInternet.Utils.uuid();
                r = parseInt(b.num(8));
                ATInternet.Utils.removeOptOutEvent(t);
                ATInternet.Utils.addOptOutEvent(r, t);
                w()
            })
        })();
        a.clientSideUserId = {};
        a.clientSideUserId.set = function(a) {
            d || (p = a, e = !0, b = g.userIdStorageName, n = !1, v())
        };
        a.clientSideUserId.store = function() {
            n = e = !0;
            q()
        };
        a.clientSideUserId.get = function() {
            return p
        }
    };
    window.ATInternet.Tracker.addPlugin("ClientSideUserId");
}).call(window);;
(function() {
    var dfltPluginCfg = {
        "domainAttribution": true,
        "info": true
    };
    var dfltGlobalCfg = {
        "redirectionLifetime": 30
    };
    window.ATInternet.Tracker.Plugins.ContextVariables = function(a) {
        var g = "",
            l = null,
            c, m = "",
            f = "",
            d = {};
        a.configPlugin("ContextVariables", dfltPluginCfg || {}, function(b) {
            d = b
        });
        a.setConfig("redirectionLifetime", dfltGlobalCfg.redirectionLifetime, !0);
        var h = function(b, c) {
                var d = null;
                a.plugins.exec("Storage", b, c, function(b) {
                    d = b
                });
                return d
            },
            p = function() {
                a.setParam("hl", function() {
                    var b = new Date;
                    return b.getHours() + "x" + b.getMinutes() + "x" + b.getSeconds()
                }, {
                    permanent: !0,
                    hitType: ["all"]
                })
            },
            b = function(b) {
                (b = c ? c : "acc_dir" ===
                    g ? "" : null !== g ? g : "acc_dir" === l ? "" : l ? l : b ? b.referrer : "") && (b = b.replace(/[<>]/g, "").substring(0, 1600).replace(/&/g, "$"));
                return b
            };
        a.plugins.waitForDependencies(["Storage", "Utils"], function() {
            m = "set" + (d.domainAttribution ? "" : "Private");
            f = "get" + (d.domainAttribution ? "" : "Private");
            var e = a.utils.getLocation();
            g = a.utils.getQueryStringValue("xtref", e);
            void 0 === g && (g = "");
            c = a.getContext("forcedReferer");
            if (a.getConfig("redirect")) {
                var e = a.utils.getDocumentLevel(),
                    e = c ? c : null !== g ? g : e ? e.referrer : "acc_dir",
                    n;
                if (n =
                    e) {
                    n = {
                        path: "/",
                        end: a.getConfig("redirectionLifetime")
                    };
                    var r = h(f, ["atredir"]);
                    null !== r ? n = "object" === typeof r && !(r instanceof Array) : (h(m, ["atredir", {}, n]), n = !0)
                }
                n && h(m, [
                    ["atredir", "ref"], e
                ])
            } else {
                l = h(f, [
                    ["atredir", "ref"]
                ]);
                h("del", [
                    ["atredir", "ref"]
                ]);
                a.setParam("vtag", a.version, {
                    permanent: !0,
                    hitType: ["all"]
                });
                a.setParam("ptag", "js", {
                    permanent: !0,
                    hitType: ["all"]
                });
                e = "";
                try {
                    e += window.screen.width + "x" + window.screen.height + "x" + window.screen.pixelDepth + "x" + window.screen.colorDepth
                } catch (k) {}
                a.setParam("r",
                    e, {
                        permanent: !0,
                        hitType: ["all"]
                    });
                e = "";
                window.innerWidth ? e += window.innerWidth + "x" + window.innerHeight : document.body && document.body.offsetWidth && (e += document.body.offsetWidth + "x" + document.body.offsetHeight);
                a.setParam("re", e, {
                    permanent: !0,
                    hitType: ["all"]
                });
                p();
                window.navigator && a.setParam("lng", window.navigator.language || window.navigator.userLanguage, {
                    permanent: !0,
                    hitType: ["all"]
                });
                e = ATInternet.Utils.uuid().num(13);
                a.setParam("idp", e, {
                    permanent: !0,
                    hitType: ["page", "clickzone"]
                });
                window.navigator && a.setParam("jv",
                    window.navigator.javaEnabled() ? "1" : "0", {
                        hitType: ["page"]
                    });
                e = a.utils.getDocumentLevel();
                a.setParam("ref", b(e), {
                    permanent: !0,
                    last: !0,
                    hitType: ["page"]
                })
            }
            a.emit("ContextVariables:Ready", {
                lvl: "INFO"
            })
        })
    };
    window.ATInternet.Tracker.addPlugin("ContextVariables");
}).call(window);;
(function() {
    var dfltPluginCfg = {
        "info": true
    };
    var dfltGlobalCfg = {};
    window.ATInternet.Tracker.Plugins.OnSiteAds = function(a) {
        var g = "",
            l = function(b) {
                return a.utils.manageChapters(b, "chapter", 3) + (b.name ? b.name : "")
            },
            c = function(a, c) {
                return a[c] ? a[c] : ""
            },
            m = function(a, e) {
                var d = c(a, e);
                if (d) {
                    var f = c(a, "prefix");
                    if (d.campaignId) {
                        var f = f || "PUB",
                            k = c(d, "campaignId"),
                            h = c(d, "creation"),
                            g = c(d, "variant"),
                            p = c(d, "format"),
                            l = c(d, "generalPlacement"),
                            m = c(d, "detailedPlacement"),
                            x = c(d, "advertiserId"),
                            d = c(d, "url");
                        return f + "-" + k + "-" + h + "-" + g + "-" + p + "-" + l + "-" + m + "-" + x + "-" + d
                    }
                    if (d.adId) return f =
                        f || "INT", k = c(d, "adId"), h = c(d, "format"), d = c(d, "productId"), f + "-" + k + "-" + h + "||" + d
                }
                return ""
            },
            f = function(b) {
                var c = ["onSiteAdsImpression"],
                    d = {};
                d.ati = {
                    value: m(b, "impression"),
                    options: {
                        hitType: c,
                        truncate: !0
                    }
                };
                d.type = "AT";
                ATInternet.Utils.isPreview() && a.getConfig("preview") && (d.pvw = 1);
                var f = b.customObject;
                f && (f = a.processTagObject("stc", c, f), d.stc = {
                    value: ATInternet.Utils.jsonSerialize(f),
                    options: {
                        hitType: c,
                        encode: !0,
                        separator: ",",
                        truncate: !0
                    }
                });
                a.manageSend(function() {
                    a.sendHit(d, [
                            ["hitType", c]
                        ], b.callback,
                        null, !0)
                })
            },
            d = function(b, c) {
                var d = a.buffer.get("ati", !0) || {};
                d.value = "string" === typeof d.value ? [d.value] : d.value || [];
                d.options = d.options || {
                    truncate: !0,
                    hitType: [c, "page"]
                };
                d.value.push(b);
                a.buffer.set("ati", d.value, d.options)
            },
            h = function(b, c) {
                b.click ? a.setParam("atc", m(b, "click"), {
                    truncate: !0,
                    hitType: [c, "page"]
                }) : b.impression && a.setParam("ati", m(b, "impression"), {
                    truncate: !0,
                    hitType: [c, "page"]
                });
                if (b.customObject) {
                    a.setContext("onsiteads", {
                        customObject: b.customObject
                    });
                    var d = a.getContext("page") || {};
                    d.customObject = ATInternet.Utils.completeFstLevelObj(d.customObject, b.customObject, !1);
                    a.setContext("page", d)
                }
                a.dispatchSubscribe("onSiteAds")
            };
        a.selfPromotion = this.selfPromotion = {};
        a.publisher = this.publisher = {};
        a.publisher.set = this.publisher.set = function(a) {
            h(a, "publisher")
        };
        a.selfPromotion.set = this.selfPromotion.set = function(a) {
            h(a, "selfPromotion")
        };
        a.publisher.add = this.publisher.add = function(b) {
            d(m(b, "impression"), "publisher");
            a.dispatchSubscribe("onSiteAds")
        };
        a.selfPromotion.add = this.selfPromotion.add =
            function(b) {
                d(m(b, "impression"), "selfPromotion");
                a.dispatchSubscribe("onSiteAds")
            };
        var p = this.advertEvent = function(b) {
            var c = !0,
                d = null;
            b && b.hasOwnProperty("event") && (d = b.event || window.event);
            !ATInternet.Utils.isTabOpeningAction(d) && b.elem && (c = a.techClicks.manageClick(b.elem, d));
            if (b.click) {
                var d = ["onSiteAdsClick"],
                    h = a.getContext("page") || {},
                    k = {};
                k.atc = {
                    value: m(b, "click"),
                    options: {
                        truncate: !0
                    }
                };
                k.type = "AT";
                k.patc = l(h);
                k.s2atc = h.level2 || "";
                if (h = b.customObject) h = a.processTagObject("stc", d, h), k.stc = {
                    value: ATInternet.Utils.jsonSerialize(h),
                    options: {
                        hitType: d,
                        encode: !0,
                        separator: ",",
                        truncate: !0
                    }
                };
                a.sendHit(k, [
                    ["hitType", d]
                ], b.callback, null, !0)
            } else b.impression && f(b);
            return c
        };
        a.publisher.send = this.publisher.send = function(a) {
            return p(a)
        };
        a.selfPromotion.send = this.selfPromotion.send = function(a) {
            return p(a)
        };
        a.onSiteAds = {};
        a.onSiteAds.onDispatch = this.onDispatch = function(b) {
            if (!a.dispatchSubscribed("page")) {
                a.setParam("type", "AT", {
                    hitType: ["publisher", "selfPromotion"]
                });
                var c = a.getContext("page") || {};
                a.getParam("atc") && (a.setParam("patc",
                    l(c), {
                        hitType: ["publisher", "selfPromotion"]
                    }), a.setParam("s2atc", c.level2 || "", {
                    hitType: ["publisher", "selfPromotion"]
                }));
                ATInternet.Utils.isPreview() && a.getConfig("preview") && a.setParam("pvw", 1);
                var d = ["publisher", "selfPromotion"];
                (c = (a.getContext("onsiteads") || {}).customObject) ? a.processContextObjectAndSendHit("stc", {
                    hitType: d,
                    encode: !0,
                    separator: ",",
                    truncate: !0
                }, c, b): a.manageSend(function() {
                    a.sendHit(null, [
                        ["hitType", d]
                    ], b)
                })
            }
        };
        a.plugins.waitForDependencies(["Utils", "TechClicks"], function() {
            g = document.location.href;
            a.plugins.exec("Utils", "getQueryStringValue", ["xtatc", g], function(b) {
                b && a.setParam("atc", b, {
                    hitType: ["publisher", "selfPromotion", "page"]
                })
            });
            a.emit("OnSiteAds:Ready", {
                lvl: "INFO",
                details: {
                    href: g
                }
            })
        })
    };
    window.ATInternet.Tracker.addPlugin("OnSiteAds");
}).call(window);;
(function() {
    var dfltPluginCfg = {
        "info": true
    };
    var dfltGlobalCfg = {};
    window.ATInternet.Tracker.Plugins.Page = function(a) {
        var g = ["pageId", "chapterLabel", "update"],
            l = ["pid", "pchap", "pidt"],
            c = ["page", "site"],
            m = ["f", "x"],
            f = function(b) {
                return a.utils.manageChapters(b, "chapter", 3) + (b.name ? b.name : "")
            },
            d = function(a, b, c) {
                b ? a = b : a || "undefined" === typeof c || (a = c);
                return a
            },
            h = function(a, b, c) {
                b.hasOwnProperty(c) && (a[c] = d(a[c], b[c]))
            },
            p = function(b, e, d) {
                if (e)
                    for (var f = 0; f < c.length; f++)
                        if (e.hasOwnProperty(c[f]) && e[c[f]])
                            for (var h in e[c[f]]) e[c[f]].hasOwnProperty(h) && (d ? b[m[f] + h] = e[c[f]][h] :
                                a.setParam(m[f] + h, e[c[f]][h]))
            },
            b = function(b, c, e) {
                if (c) {
                    var d = a.utils.manageChapters(c, "chapter", 3);
                    d && (c.chapterLabel = d.replace(/::$/gi, ""));
                    for (d = 0; d < l.length; d++) c.hasOwnProperty(g[d]) && (e ? b[l[d]] = c[g[d]] : a.setParam(l[d], c[g[d]]))
                }
            },
            e = function(b, c, e) {
                if (c && c.keywords instanceof Array) {
                    var d = c.keywords.length;
                    if (0 < d) {
                        for (var f = "", h = 0; h < d; h++) f += "[" + c.keywords[h] + "]" + (h < d - 1 ? "|" : "");
                        e ? b.tag = f : a.setParam("tag", f)
                    }
                }
            },
            n = function(b, c, e) {
                if (c) {
                    var d, f = function(a) {
                        return a ? a : "0"
                    };
                    d = "" + (f(c.category1) + "-");
                    d += f(c.category2) + "-";
                    d += f(c.category3);
                    e ? b.ptype = d : a.setParam("ptype", d)
                }
            },
            r = function(b, c, e) {
                if (c)
                    for (var d in c) c.hasOwnProperty(d) && "undefined" !== typeof c[d] && (e ? b[d] = c[d] : a.setParam(d, c[d]))
            };
        a.customVars = this.customVars = {};
        a.customVars.set = this.customVars.set = function(b) {
            var c = a.getContext("page") || {},
                e = c.customVars;
            if (e) {
                if (b)
                    for (var d in b) b.hasOwnProperty(d) && (e[d] = ATInternet.Utils.completeFstLevelObj(e[d], b[d], !0))
            } else e = b;
            c.customVars = e;
            a.setContext("page", c)
        };
        a.dynamicLabel = this.dynamicLabel = {};
        a.dynamicLabel.set = this.dynamicLabel.set = function(b) {
            var c = a.getContext("page") || {};
            c.dynamicLabel = ATInternet.Utils.completeFstLevelObj(c.dynamicLabel, b, !0);
            a.setContext("page", c)
        };
        a.tags = this.tags = {};
        a.tags.set = this.tags.set = function(b) {
            var c = a.getContext("page") || {};
            c.tags = ATInternet.Utils.completeFstLevelObj(c.tags, b, !0);
            a.setContext("page", c)
        };
        a.customTreeStructure = this.customTreeStructure = {};
        a.customTreeStructure.set = this.customTreeStructure.set = function(b) {
            var c = a.getContext("page") || {};
            c.customTreeStructure = ATInternet.Utils.completeFstLevelObj(c.customTreeStructure, b, !0);
            a.setContext("page", c)
        };
        a.page = {};
        a.page.reset = this.reset = function() {
            a.setContext("page", void 0)
        };
        a.page.set = this.set = function(b) {
            a.dispatchSubscribe("page");
            var c = a.getContext("page") || {};
            c.name = d(c.name, b.name, "");
            c.level2 = d(c.level2, b.level2, "");
            h(c, b, "chapter1");
            h(c, b, "chapter2");
            h(c, b, "chapter3");
            c.customObject = ATInternet.Utils.completeFstLevelObj(c.customObject, b.customObject, !0);
            a.setContext("page", c)
        };
        a.page.send =
            this.send = function(c) {
                var g = !0,
                    l = {
                        p: f(c),
                        s2: c.level2 || ""
                    },
                    m = c.customObject,
                    t = !1;
                if (m) {
                    var t = !0,
                        u = ["page"],
                        m = a.processTagObject("stc", u, m);
                    l.stc = {
                        value: ATInternet.Utils.jsonSerialize(m),
                        options: {
                            hitType: u,
                            encode: !0,
                            separator: ",",
                            truncate: !0
                        }
                    }
                }
                m = a.getContext("page") || {};
                m.vrn && (l.vrn = m.vrn, m.vrn = void 0, a.setContext("page", m));
                u = a.getContext("InternalSearch") || {};
                "undefined" !== typeof u.keyword && (l.mc = ATInternet.Utils.cloneSimpleObject(u.keyword), "undefined" !== typeof u.resultPageNumber && (l.np = ATInternet.Utils.cloneSimpleObject(u.resultPageNumber)),
                    a.setContext("InternalSearch", void 0));
                ATInternet.Utils.isPreview() && a.getConfig("preview") && (l.pvw = 1);
                p(l, c.customVars, !0);
                b(l, c.dynamicLabel, !0);
                e(l, c.tags, !0);
                n(l, c.customTreeStructure, !0);
                u = a.getContext("campaigns") || {};
                r(l, u, !0);
                a.setContext("campaigns", void 0);
                u = null;
                c && c.hasOwnProperty("event") && (u = c.event || window.event);
                !ATInternet.Utils.isTabOpeningAction(u) && c.elem && (g = a.techClicks.manageClick(c.elem, u));
                a.manageSend(function() {
                    a.sendHit(l, null, c.callback, null, t)
                });
                m.name = d(m.name, c.name,
                    "");
                m.level2 = d(m.level2, c.level2, "");
                h(m, c, "chapter1");
                h(m, c, "chapter2");
                h(m, c, "chapter3");
                a.setContext("page", m);
                return g
            };
        a.page.onDispatch = this.onDispatch = function(c) {
            var d = a.getContext("page") || {},
                h = a.getContext("InternalSearch") || {};
            a.setParam("p", f(d));
            a.setParam("s2", d.level2 || "");
            d.vrn && (a.setParam("vrn", d.vrn), d.vrn = void 0, a.setContext("page", d));
            "undefined" !== typeof h.keyword && (a.setParam("mc", ATInternet.Utils.cloneSimpleObject(h.keyword)), "undefined" !== typeof h.resultPageNumber && a.setParam("np",
                ATInternet.Utils.cloneSimpleObject(h.resultPageNumber)), a.setContext("InternalSearch", void 0));
            ATInternet.Utils.isPreview() && a.getConfig("preview") && a.setParam("pvw", 1);
            p(null, d.customVars, !1);
            b(null, d.dynamicLabel, !1);
            e(null, d.tags, !1);
            n(null, d.customTreeStructure, !1);
            h = a.getContext("campaigns") || {};
            r(null, h, !1);
            a.setContext("campaigns", void 0);
            var g = ["page"];
            (d = d.customObject) ? a.processContextObjectAndSendHit("stc", {
                hitType: g,
                encode: !0,
                separator: ",",
                truncate: !0
            }, d, c): a.manageSend(function() {
                a.sendHit(null,
                    [
                        ["hitType", g]
                    ], c)
            })
        }
    };
    window.ATInternet.Tracker.addPlugin("Page");
}).call(window);;
(function() {
    var dfltPluginCfg = {
        "info": false
    };
    var dfltGlobalCfg = {
        "storageMode": "cookie"
    };
    ATInternet.Tracker.Plugins.Cookies = ATInternet.Tracker.Plugins.Storage = function(a) {
        var g = this,
            l = {},
            c = !1,
            m = null;
        a.configPlugin("Storage", dfltPluginCfg || {}, function(a) {
            l = a;
            "localStorage" === l.storageMode && (c = ATInternet.Utils.isLocalStorageAvailable())
        });
        var f = {},
            d = function(b) {
                return a.getConfig("base64Storage") ? ATInternet.Utils.Base64.encode(b) : encodeURIComponent(b)
            },
            h = function(b) {
                return a.getConfig("base64Storage") ? ATInternet.Utils.Base64.decode(b) : decodeURIComponent(b)
            },
            p = function() {
                this.getData = function(a) {
                    var b =
                        null;
                    (a = RegExp("(?:^| )" + a + "=([^;]+)").exec(document.cookie) || null) && (b = h(a[1]));
                    return b
                };
                this.setData = function(b) {
                    var c = !1;
                    if (b.name && "string" === typeof b.name) {
                        var e = b.options || {},
                            f = e.end || {},
                            h = e.domain || a.getConfig("cookieDomain"),
                            g = e.secure || a.getConfig("cookieSecure"),
                            k = ATInternet.Utils.jsonSerialize(b),
                            k = b.name + "=" + d(k),
                            k = k + (e.path && "string" === typeof e.path ? ";path=" + e.path : ""),
                            k = k + (h && "string" === typeof h ? ";domain=" + h : "") + (g && "boolean" === typeof g ? ";secure" : "");
                        "function" === typeof f.toUTCString ?
                            k += ";expires=" + f.toUTCString() : "number" === typeof f && (k += ";max-age=" + f.toString());
                        document.cookie = k;
                        this.getData(b.name) && (c = !0)
                    }
                    return c
                }
            };
        m = c ? new function() {
                var a = function(a) {
                        var b = +new Date,
                            c = !1,
                            d;
                        a.options && ("undefined" !== typeof a.options.expires ? d = a.options.expires : (a = a.options.end || {}, "function" === typeof a.getTime ? d = a.getTime() : "number" === typeof a && (d = b + 1E3 * a)));
                        "number" === typeof d && b >= d && (c = !0);
                        return {
                            itemToDelete: c,
                            timestamp: d
                        }
                    },
                    b = function(a) {
                        var b = !1;
                        try {
                            localStorage.removeItem(a), b = !0
                        } catch (c) {}
                        return b
                    };
                this.getData = function(c) {
                    var d = null,
                        e = localStorage.getItem(c);
                    if (e) {
                        var e = h(e),
                            f = ATInternet.Utils.jsonParse(e);
                        f && "object" === typeof f ? a(f).itemToDelete && b(c) || (delete f.options.expires, d = ATInternet.Utils.jsonSerialize(f)) : d = e
                    }
                    return d
                };
                this.setData = function(c) {
                    var e = !1;
                    if (c.name && "string" === typeof c.name) {
                        var f = a(c);
                        "number" === typeof f.timestamp && (c.options.expires = f.timestamp);
                        var h = ATInternet.Utils.jsonSerialize(c);
                        if (f.itemToDelete) e = b(c.name);
                        else try {
                            localStorage.setItem(c.name, d(h)), e = !0
                        } catch (g) {}
                    }
                    return e
                }
            } :
            new p;
        var b = function(b, c) {
                var d = !1;
                !ATInternet.Utils.consent && !c || a.getConfig("disableCookie") || a.getConfig("disableStorage") || !b || "object" !== typeof b || (d = m.setData(b));
                return d
            },
            e = function(a, b, c) {
                a = {
                    name: a,
                    val: b
                };
                c && c.session && "number" === typeof c.session && (c.end = c.session);
                a.options = c || {};
                return a
            },
            n = function(b) {
                var c = null,
                    d = null;
                a.getConfig("disableCookie") || a.getConfig("disableStorage") || !b || "string" !== typeof b || (d = m.getData(b));
                (b = d) && (c = ATInternet.Utils.jsonParse(b));
                return c
            },
            r = function(a, c) {
                var d =
                    ATInternet.Utils.cloneSimpleObject(a);
                return b(d, c) ? ATInternet.Utils.jsonParse(ATInternet.Utils.jsonSerialize(a)) : null
            },
            k = function(a, b, c) {
                if (!c && f[a]) c = f[a];
                else if (c = n(a)) c.options = c.options || {}, c.options.session && "number" === typeof c.options.session && (c.options.end = c.options.session, r(c, !1)), f[a] = c;
                return c ? b ? (a = null, !c || "object" !== typeof c.val || c.val instanceof Array || void 0 === c.val[b] || (a = c.val[b]), a) : c.val : null
            },
            q = function(a, b, c, d, h) {
                if (b) {
                    if (h = n(a)) !h || "object" !== typeof h.val || h.val instanceof
                    Array ? h = null : "undefined" === typeof c ? delete h.val[b] : h.val[b] = c, h && (h = r(h, d))
                } else h = h || {}, h = e(a, c, h), h = r(h, d);
                return h ? (f[a] = h, h.val) : null
            },
            v = function(a, c) {
                if (c) q(a, c, void 0, !1, null);
                else {
                    f[a] = void 0;
                    var d = e(a, "", {
                        end: new Date("Thu, 01 Jan 1970 00:00:00 UTC"),
                        path: "/"
                    });
                    b(d, !1)
                }
            };
        a.storage = {};
        a.storage.get = g.get = function(a, b) {
            b = !!b;
            return a instanceof Array ? k(a[0], a[1], b) : k(a, "", b)
        };
        a.storage.getPrivate = g.getPrivate = function(b, c) {
            b instanceof Array ? b[0] += a.getConfig("site") : b += a.getConfig("site");
            return g.get(b, c)
        };
        a.storage.set = g.set = function(a, b, c, d) {
            return a instanceof Array ? q(a[0], a[1], b, d, null) : q(a, null, b, d, c)
        };
        a.storage.setPrivate = g.setPrivate = function(b, c, d) {
            b instanceof Array ? b[0] += a.getConfig("site") : b += a.getConfig("site");
            return g.set(b, c, d)
        };
        a.storage.del = g.del = function(a) {
            a instanceof Array ? v(a[0], a[1]) : v(a, "")
        };
        a.storage.delPrivate = g.delPrivate = function(b) {
            b instanceof Array ? b[0] += a.getConfig("site") : b += a.getConfig("site");
            g.del(b)
        };
        a.storage.cacheInvalidation = g.cacheInvalidation =
            function() {
                f = {}
            }
    };
    ATInternet.Tracker.addPlugin("Storage");
    ATInternet.Tracker.addPlugin("Cookies");
}).call(window);;
(function() {
    var dfltPluginCfg = {
        "clicksAutoManagementEnabled": true,
        "clicksAutoManagementTimeout": 500,
        "info": false
    };
    var dfltGlobalCfg = {};
    window.ATInternet.Tracker.Plugins.TechClicks = function(a) {
        var g = this,
            l, c;
        a.configPlugin("TechClicks", dfltPluginCfg || {}, function(a) {
            l = a.clicksAutoManagementEnabled;
            c = a.clicksAutoManagementTimeout
        });
        g.deactivateAutoManagement = function() {
            l = !1
        };
        var m = function(a) {
                switch (a.target) {
                    case "_top":
                        window.top.location.href = a.url;
                        break;
                    case "_parent":
                        window.parent.location.href = a.url;
                        break;
                    default:
                        window.location.href = a.url
                }
            },
            f = function(a) {
                var b = a.timeout;
                a.mailto ? g.timeout = setTimeout(function() {
                    window.location.href =
                        a.mailto
                }, b) : a.form ? g.timeout = setTimeout(function() {
                    a.form.submit()
                }, b) : a.url && (g.timeout = setTimeout(function() {
                    m({
                        url: a.url,
                        target: a.target
                    })
                }, b))
            },
            d = function(b) {
                for (var d, h = "_self", k = b.timeoutonly; b;) {
                    if (b.href && 0 === b.href.indexOf("http")) {
                        d = b.href.split('"').join('\\"');
                        h = b.target ? b.target : h;
                        break
                    }
                    b = b.parentNode
                }
                if (d) {
                    if (!k) a.onTrigger("Tracker:Hit:Sent:Ok", function() {
                        g.timeout && clearTimeout(g.timeout);
                        m({
                            url: d,
                            target: h
                        })
                    });
                    f({
                        url: d,
                        target: h,
                        timeout: c
                    })
                }
            },
            h = function(b) {
                var d = b;
                for (b = d.timeoutonly; d &&
                    "FORM" !== d.nodeName;) d = d.parentNode;
                if (d) {
                    if (!b) a.onTrigger("Tracker:Hit:Sent:Ok", function() {
                        g.timeout && clearTimeout(g.timeout);
                        d.submit()
                    });
                    f({
                        form: d,
                        timeout: c
                    })
                }
            },
            p = function(b) {
                var d = b;
                for (b = d.timeoutonly; d && !(d.href && 0 <= d.href.indexOf("mailto:"));) d = d.parentNode;
                if (d) {
                    if (!b) a.onTrigger("Tracker:Hit:Sent:Ok", function() {
                        g.timeout && clearTimeout(g.timeout);
                        window.location.href = d.href
                    });
                    f({
                        mailto: d.href,
                        timeout: c
                    })
                }
            },
            b = function(a) {
                for (; a;) {
                    if (a.href) {
                        if (0 <= a.href.indexOf("mailto:")) return "mailto";
                        if (0 ===
                            a.href.indexOf("http")) return "redirection"
                    } else if ("FORM" === a.nodeName) return "form";
                    a = a.parentNode
                }
                return ""
            };
        a.techClicks = {};
        a.techClicks.manageClick = g.manageClick = function(a, c) {
            var f = !0;
            if (l && a) {
                var g;
                a: {
                    for (g = a; g;) {
                        if ("function" === typeof g.getAttribute && ("_blank" === g.getAttribute("target") || "no" === g.getAttribute("data-atclickmanagement"))) {
                            g = !0;
                            break a
                        }
                        g = g.parentNode
                    }
                    g = a;
                    for (var m = window.location.href, v; g;) {
                        if ((v = g.href) && 0 <= v.indexOf("#") && m.substring(0, 0 <= m.indexOf("#") ? m.indexOf("#") : m.length) ===
                            v.substring(0, v.indexOf("#"))) {
                            g = !0;
                            break a
                        }
                        g = g.parentNode
                    }
                    g = !1
                }
                m = b(a);
                if (!g && m) {
                    switch (m) {
                        case "mailto":
                            p(a);
                            f = !1;
                            break;
                        case "form":
                            h(a);
                            f = !1;
                            break;
                        case "redirection":
                            d(a), f = !1
                    }
                    c && (g = c.defaultPrevented, "function" === typeof c.isDefaultPrevented && (g = c.isDefaultPrevented()), g || c.preventDefault && c.preventDefault())
                }
            }
            return f
        }
    };
    window.ATInternet.Tracker.addPlugin("TechClicks");
}).call(window);;
(function() {
    var dfltPluginCfg = {
        "info": false
    };
    var dfltGlobalCfg = {};
    window.ATInternet.Tracker.Plugins.Utils = function(a) {
        var g = this,
            l = {};
        a.utils = {};
        a.utils.getQueryStringValue = g.getQueryStringValue = function(a, c) {
            var h = ATInternet.Utils.hashcode(c).toString();
            if (!l[h]) {
                l[h] = {};
                var g = RegExp("[&#?]{1}([^&=#?]*)=([^&#]*)?", "g"),
                    b = g.exec(c);
                if (null !== b)
                    for (; null !== b;) l[h][b[1]] = b[2], b = g.exec(c)
            }
            return l[h].hasOwnProperty(a) ? l[h][a] : null
        };
        a.utils.manageChapters = g.manageChapters = function(c, d, h) {
            var g = a.getConfig("ignoreEmptyChapterValue"),
                b = "";
            if (c) {
                h = parseInt(h, 10);
                for (var e =
                        1; e < h + 1; e++) var l = c[d + e] || "",
                    b = g ? b + (l ? l + "::" : "") : b + (c.hasOwnProperty(d + e) ? l + "::" : "")
            }
            return b
        };
        a.utils.getDocumentLevel = g.getDocumentLevel = function() {
            var c = a.getConfig("documentLevel");
            if (c) {
                if (0 > c.indexOf(".")) return window[c] || document;
                c = c.split(".");
                return window[c[0]][c[1]] || document
            }
            return document
        };
        a.utils.getLocation = g.getLocation = function() {
            return g.getDocumentLevel().location.href
        };
        a.utils.getHostName = g.getHostName = function() {
            return g.getDocumentLevel().location.hostname
        };
        a.utils.getCollectDomain =
            g.getCollectDomain = function() {
                var c = "",
                    c = a.getConfig("logSSL") || a.getConfig("log"),
                    d = a.getConfig("domain");
                return c = c && d ? c + "." + d : a.getConfig("collectDomainSSL") || a.getConfig("collectDomain")
            };
        a.dispatchIndex = {};
        a.dispatchStack = [];
        a.dispatchEventFor = {};
        var c = 0;
        a.dispatchSubscribe = function(c) {
            return a.dispatchIndex[c] ? !1 : (a.dispatchStack.push(c), a.dispatchIndex[c] = !0)
        };
        a.dispatchSubscribed = function(c) {
            return !0 === a.dispatchIndex[c]
        };
        a.addSpecificDispatchEventFor = function(f) {
            return a.dispatchEventFor[f] ?
                !1 : (a.dispatchEventFor[f] = !0, c++, !0)
        };
        a.processSpecificDispatchEventFor = function(f) {
            a.dispatchEventFor[f] && (a.dispatchEventFor[f] = !1, c--, 0 === c && (a.dispatchEventFor = {}, a.emit("Tracker:Plugin:SpecificEvent:Exec:Complete", {
                lvl: "INFO"
            })))
        };
        a.dispatch = function(f) {
            var d = function() {
                    for (var c = "", b = null; 0 < a.dispatchStack.length;) c = a.dispatchStack.pop(), 0 === a.dispatchStack.length && (b = f), a[c].onDispatch(b);
                    a.dispatchIndex = {};
                    a.delContext(void 0, "customObject")
                },
                h = function() {
                    if (a.plugins.isExecWaitingLazyloading()) a.onTrigger("Tracker:Plugin:Lazyload:Exec:Complete",
                        function() {
                            d()
                        }, !0);
                    else d()
                };
            if (0 === c) h();
            else a.onTrigger("Tracker:Plugin:SpecificEvent:Exec:Complete", function() {
                h()
            }, !0)
        };
        a.dispatchRedirect = function(c) {
            var d = !0,
                h = null;
            c && (h = null, c && c.hasOwnProperty("event") && (h = c.event || window.event), !ATInternet.Utils.isTabOpeningAction(h) && c.elem && (c.elem.timeoutonly = !0, a.plugins.exec("TechClicks", "manageClick", [c.elem, h], function(a) {
                d = a
            })), h = c.callback);
            a.dispatch(h);
            return d
        };
        var m = a.manageSend = function(c) {
            if (!ATInternet.Utils.isPreview() || a.getConfig("preview")) ATInternet.Utils.isPrerender(function(a) {
                    c(a)
                }) ||
                c()
        };
        a.processTagObject = function(c, d, h) {
            if ((c = a.getParam(c, !0)) && c.options.permanent) {
                for (var g = !1, b = c.options.hitType || [], e = 0; e < b.length; e++)
                    if (-1 !== ATInternet.Utils.arrayIndexOf(d.concat("all"), b[e])) {
                        g = !0;
                        break
                    } g && (h = ATInternet.Utils.completeFstLevelObj(c.value || {}, h, !0))
            }
            return h
        };
        a.processContextObjectAndSendHit = function(c, d, g, l) {
            var b = a.getParam(c, !0);
            if (b) {
                for (var e = !1, n = b.options.hitType || [], r = 0; r < n.length; r++)
                    if (-1 !== ATInternet.Utils.arrayIndexOf(d.hitType.concat("all"), n[r])) {
                        e = !0;
                        break
                    } e ?
                    (e = ATInternet.Utils.cloneSimpleObject(b), e.value = ATInternet.Utils.completeFstLevelObj(e.value || {}, g, !0), a.setParam(c, e.value, {
                        hitType: d.hitType,
                        encode: d.encode,
                        separator: d.separator,
                        truncate: d.truncate
                    }), m(function() {
                        a.sendHit(null, [
                            ["hitType", d.hitType]
                        ], l, null, !0)
                    }), b.options.permanent && a.setParam(c, b.value, b.options)) : (a.setParam(c, g, {
                        hitType: d.hitType,
                        encode: d.encode,
                        separator: d.separator,
                        truncate: d.truncate
                    }), m(function() {
                        a.sendHit(null, [
                            ["hitType", d.hitType]
                        ], l, null, !0)
                    }), a.setParam(c, b.value,
                        b.options))
            } else a.setParam(c, g, {
                hitType: d.hitType,
                encode: d.encode,
                separator: d.separator,
                truncate: d.truncate
            }), m(function() {
                a.sendHit(null, [
                    ["hitType", d.hitType]
                ], l, null, !0)
            })
        }
    };
    window.ATInternet.Tracker.addPlugin("Utils");
}).call(window);
if (typeof window.ATInternet.onTrackerLoad === 'function') {
    window.ATInternet.onTrackerLoad();
}

    /*
     * A JavaScript implementation of the RSA Data Security, Inc. MD5 Message
     * Digest Algorithm, as defined in RFC 1321.
     * Copyright (C) Paul Johnston 1999 - 2000.
     * Updated by Greg Holt 2000 - 2001.
     * See http://pajhome.org.uk/site/legal.html for details.
     */

    /*
     * Convert a 32-bit number to a hex string with ls-byte first
     */
    var hex_chr = "0123456789abcdef";

function rhex(num) {
    str = "";
    for (j = 0; j <= 3; j++)
        str += hex_chr.charAt((num >> (j * 8 + 4)) & 0x0F) +
        hex_chr.charAt((num >> (j * 8)) & 0x0F);
    return str;
}

/*
 * Convert a string to a sequence of 16-word blocks, stored as an array.
 * Append padding bits and the length, as described in the MD5 standard.
 */
function str2blks_MD5(str) {
    nblk = ((str.length + 8) >> 6) + 1;
    blks = new Array(nblk * 16);
    for (i = 0; i < nblk * 16; i++) blks[i] = 0;
    for (i = 0; i < str.length; i++)
        blks[i >> 2] |= str.charCodeAt(i) << ((i % 4) * 8);
    blks[i >> 2] |= 0x80 << ((i % 4) * 8);
    blks[nblk * 16 - 2] = str.length * 8;
    return blks;
}

/*
 * Add integers, wrapping at 2^32. This uses 16-bit operations internally 
 * to work around bugs in some JS interpreters.
 */
function add(x, y) {
    var lsw = (x & 0xFFFF) + (y & 0xFFFF);
    var msw = (x >> 16) + (y >> 16) + (lsw >> 16);
    return (msw << 16) | (lsw & 0xFFFF);
}

/*
 * Bitwise rotate a 32-bit number to the left
 */
function rol(num, cnt) {
    return (num << cnt) | (num >>> (32 - cnt));
}

/*
 * These functions implement the basic operation for each round of the
 * algorithm.
 */
function cmn(q, a, b, x, s, t) {
    return add(rol(add(add(a, q), add(x, t)), s), b);
}

function ff(a, b, c, d, x, s, t) {
    return cmn((b & c) | ((~b) & d), a, b, x, s, t);
}

function gg(a, b, c, d, x, s, t) {
    return cmn((b & d) | (c & (~d)), a, b, x, s, t);
}

function hh(a, b, c, d, x, s, t) {
    return cmn(b ^ c ^ d, a, b, x, s, t);
}

function ii(a, b, c, d, x, s, t) {
    return cmn(c ^ (b | (~d)), a, b, x, s, t);
}

/*
 * Take a string and return the hex representation of its MD5.
 */
function calcMD5(str) {
    x = str2blks_MD5(str);
    a = 1732584193;
    b = -271733879;
    c = -1732584194;
    d = 271733878;

    for (i = 0; i < x.length; i += 16) {
        olda = a;
        oldb = b;
        oldc = c;
        oldd = d;

        a = ff(a, b, c, d, x[i + 0], 7, -680876936);
        d = ff(d, a, b, c, x[i + 1], 12, -389564586);
        c = ff(c, d, a, b, x[i + 2], 17, 606105819);
        b = ff(b, c, d, a, x[i + 3], 22, -1044525330);
        a = ff(a, b, c, d, x[i + 4], 7, -176418897);
        d = ff(d, a, b, c, x[i + 5], 12, 1200080426);
        c = ff(c, d, a, b, x[i + 6], 17, -1473231341);
        b = ff(b, c, d, a, x[i + 7], 22, -45705983);
        a = ff(a, b, c, d, x[i + 8], 7, 1770035416);
        d = ff(d, a, b, c, x[i + 9], 12, -1958414417);
        c = ff(c, d, a, b, x[i + 10], 17, -42063);
        b = ff(b, c, d, a, x[i + 11], 22, -1990404162);
        a = ff(a, b, c, d, x[i + 12], 7, 1804603682);
        d = ff(d, a, b, c, x[i + 13], 12, -40341101);
        c = ff(c, d, a, b, x[i + 14], 17, -1502002290);
        b = ff(b, c, d, a, x[i + 15], 22, 1236535329);

        a = gg(a, b, c, d, x[i + 1], 5, -165796510);
        d = gg(d, a, b, c, x[i + 6], 9, -1069501632);
        c = gg(c, d, a, b, x[i + 11], 14, 643717713);
        b = gg(b, c, d, a, x[i + 0], 20, -373897302);
        a = gg(a, b, c, d, x[i + 5], 5, -701558691);
        d = gg(d, a, b, c, x[i + 10], 9, 38016083);
        c = gg(c, d, a, b, x[i + 15], 14, -660478335);
        b = gg(b, c, d, a, x[i + 4], 20, -405537848);
        a = gg(a, b, c, d, x[i + 9], 5, 568446438);
        d = gg(d, a, b, c, x[i + 14], 9, -1019803690);
        c = gg(c, d, a, b, x[i + 3], 14, -187363961);
        b = gg(b, c, d, a, x[i + 8], 20, 1163531501);
        a = gg(a, b, c, d, x[i + 13], 5, -1444681467);
        d = gg(d, a, b, c, x[i + 2], 9, -51403784);
        c = gg(c, d, a, b, x[i + 7], 14, 1735328473);
        b = gg(b, c, d, a, x[i + 12], 20, -1926607734);

        a = hh(a, b, c, d, x[i + 5], 4, -378558);
        d = hh(d, a, b, c, x[i + 8], 11, -2022574463);
        c = hh(c, d, a, b, x[i + 11], 16, 1839030562);
        b = hh(b, c, d, a, x[i + 14], 23, -35309556);
        a = hh(a, b, c, d, x[i + 1], 4, -1530992060);
        d = hh(d, a, b, c, x[i + 4], 11, 1272893353);
        c = hh(c, d, a, b, x[i + 7], 16, -155497632);
        b = hh(b, c, d, a, x[i + 10], 23, -1094730640);
        a = hh(a, b, c, d, x[i + 13], 4, 681279174);
        d = hh(d, a, b, c, x[i + 0], 11, -358537222);
        c = hh(c, d, a, b, x[i + 3], 16, -722521979);
        b = hh(b, c, d, a, x[i + 6], 23, 76029189);
        a = hh(a, b, c, d, x[i + 9], 4, -640364487);
        d = hh(d, a, b, c, x[i + 12], 11, -421815835);
        c = hh(c, d, a, b, x[i + 15], 16, 530742520);
        b = hh(b, c, d, a, x[i + 2], 23, -995338651);

        a = ii(a, b, c, d, x[i + 0], 6, -198630844);
        d = ii(d, a, b, c, x[i + 7], 10, 1126891415);
        c = ii(c, d, a, b, x[i + 14], 15, -1416354905);
        b = ii(b, c, d, a, x[i + 5], 21, -57434055);
        a = ii(a, b, c, d, x[i + 12], 6, 1700485571);
        d = ii(d, a, b, c, x[i + 3], 10, -1894986606);
        c = ii(c, d, a, b, x[i + 10], 15, -1051523);
        b = ii(b, c, d, a, x[i + 1], 21, -2054922799);
        a = ii(a, b, c, d, x[i + 8], 6, 1873313359);
        d = ii(d, a, b, c, x[i + 15], 10, -30611744);
        c = ii(c, d, a, b, x[i + 6], 15, -1560198380);
        b = ii(b, c, d, a, x[i + 13], 21, 1309151649);
        a = ii(a, b, c, d, x[i + 4], 6, -145523070);
        d = ii(d, a, b, c, x[i + 11], 10, -1120210379);
        c = ii(c, d, a, b, x[i + 2], 15, 718787259);
        b = ii(b, c, d, a, x[i + 9], 21, -343485551);

        a = add(a, olda);
        b = add(b, oldb);
        c = add(c, oldc);
        d = add(d, oldd);
    }
    return rhex(a) + rhex(b) + rhex(c) + rhex(d);
}

function creerCookie(nom, valeur, jours) {
    // Le nombre de jours est spécifié
    if (jours) {
        var date = new Date();
        // Converti le nombre de jour en millisecondes
        date.setTime(date.getTime() + (jours * 24 * 60 * 60 * 1000));
        var expire = "; expire=" + date.toGMTString();
    } else var expire = "";
    document.cookie = nom + "=" + valeur + expire + "; path=/";
}


function getCookieValue(nomCookie) {
    deb = document.cookie.indexOf(nomCookie + "=")
    if (deb >= 0) {
        deb += nomCookie.length + 1
        fin = document.cookie.indexOf(";", deb)
        if (fin < 0) fin = document.cookie.length
        return unescape(document.cookie.substring(deb, fin))
    } else return ""
}

function lireCookie(nom) {
    // Ajoute le signe égale virgule au nom
    // pour la recherche
    var nom2 = nom + "=";
    // Array contenant tous les cookies
    var arrCookies = document.cookie.split(';');
    // Cherche l'array pour le cookie en question
    for (var i = 0; i < arrCookies.length; i++) {
        var a = arrCookies[i];
        // Si c'est un espace, enlever
        while (a.charAt(0) == ' ') {
            a = a.substring(1, a.length);
        }
        if (a.indexOf(nom2) == 0) {
            return a.substring(nom2.length, a.length);
        }
    }
    // Aucun cookie trouvé
    return null;
}

function setAdhesiveTag() {
    var advertCookie = lireCookie('advertCookies');
    if (advertCookie !== null && getCookieValue('advertCookies') === 'true') {
        return true;
    } else {
        return false;
    }
}

function checkAcceptence() {
    var referer = document.referrer;
    var domain = document.domain;
    var acceptence = lireCookie('acceptence');
    if (acceptence !== null) {
        var advertCookie = lireCookie('advertCookies');
        if (advertCookie === null) {
            creerCookie('advertCookies', true, 360);
        }
        var audianceCookies = lireCookie('audianceCookies');
        if (audianceCookies === null) {
            creerCookie('audianceCookies', true, 360);
        }
    }
    if (acceptence == null) {
        creerCookie('acceptence', true, 360);
    }

}

function getEpj() {
    var externalId = dmAPI.getSiteExternalId();
    if (externalId !== null) {
        var ids = externalId.split('|');
        return ids[1];
    }
    return '';
}

function getClickRdvId() {
    var externalId = dmAPI.getSiteExternalId();
    var name = dmAPI.getSiteName();
    if (externalId !== null) {
        var ids = externalId.split('|');
        var idClickRdv = ids[3];
        if (idClickRdv === 'V2') {
            return "Sites.pagesjaunes" + ";" + "SOWEB" + ";" + ids[0] + ";" + ids[1] + ";" + name + ";" + document.domain;
        }
        return idClickRdv;
    }
    return '';
}

function isParution() {
    if (document.domain.indexOf("my.eu.duda.co") >= 0 || document.domain.indexOf("solocaldudaadmin.eu-responsivesiteeditor.com") >= 0 || document.domain.indexOf("eu-multiscreensite") >= 0) {
        return false;
    }
    return true;
}

function getEpj() {
    var externalId = dmAPI.getSiteExternalId();
    if (externalId !== null) {
        var ids = externalId.split('|');
        return ids[1];
    }
    return '';
}

function getGamme() {
    var externalId = dmAPI.getSiteExternalId();
    if (externalId !== null) {
        var ids = externalId.split('|');
        return ids[0];
    }
    return '';
}

function getSiteName() {
    var name = dmAPI.getSiteName();
    return name;
}


function crypt(src) {
    return $().crypt({
        method: "md5",
        source: src
    });

}

function setTags() {
	var epj = getEpj();
	var gamme = getGamme();
    var advertCookie = lireCookie('advertCookies');
    if (advertCookie !== null && getCookieValue('advertCookies') === 'true' && isParution() && epj != '') {
        var script = document.createElement("script");
        script.type = "text/javascript";
		var d = document.domain;
		if(d.toLowerCase().startsWith("www.")){
			d = d.substr(4);
		}
        var domainEnc = calcMD5(d);
        var url = "https://o.adhslx.com/t?id=46&p1=" + domainEnc + "&p2=" + epj;
        script.src = url;
        script.async = true;
        $(".adhesive").html(script);
		if(gamme !== '' && (gamme.toLowerCase() === 'lpboostercontact' || gamme.toLowerCase() === 'lpsoms')){
			var script28 = document.createElement("script");
			script28.type = "text/javascript";
			var url28 = "https://o.adhslx.com/t?id=28&p1=" + epj + "&p2=" + domainEnc;
			script28.src = url28;
			script28.async = true;
			$(".adhesivePlus").html(script28);
		}
    }

    
	
    var domain = document.domain;
	var plateforme = "DUDA";
	if(!domain.toLowerCase().startsWith("www.")){
		domain = "www." + domain;
	}
    var siteName = getSiteName();
    if (isParution() && epj != '') {
        var level = 0;
        var gamme = getGamme();
		if(gamme !== '' || gamme.toLowerCase() != 'lpboostercontact' || gamme.toLowerCase() != 'lpsoms'){
			if (gamme.toLowerCase() === 'essentiel'|| gamme.toLowerCase() === 'essentiel-ecom' || gamme.toLowerCase() === 'siteconnect' || gamme.toLowerCase() === 'siteconnect-ecom') {
				level = 1;
			}
			else if (gamme.toLowerCase() === 'premium'|| gamme.toLowerCase() === 'premium-ecom') {
				level = 2;
			} else if(gamme.toLowerCase() == 'minisite'){
				level = 6;
				domain = domain.replace("www.", "https://");
			} else if(gamme.toLowerCase() == 'privilege' || gamme.toLowerCase() === 'privilege-ecom'){
				level = 3;
			}
			if(level != 0){
				var tag = new ATInternet.Tracker.Tag({collectDomain: 'at.pagesjaunes.fr', collectDomainSSL: 'at.pagesjaunes.fr', pixelPath: '/wa.pj'});
				tag.page.set({
					name: '',
					level2: level
				});
				tag.customVars.set({
					site: {
						1: siteName,
						2: epj,
						3: domain,
						9: plateforme
					}
				});

				var audienceCookies = lireCookie('audienceCookies');
				if (audienceCookies === null || getCookieValue('audienceCookies') === 'true') {
					ATInternet.Tracker.DoNotTrack = false;
				} else {
					ATInternet.Tracker.DoNotTrack = true;
				}
				tag.dispatch();
			}
		}
	}
}


dmAPI.runOnReady('name', function() {
	$("#validCookiesModalPage").on("click", function() {
    		var advert = $('input[name = advertCookieValidation]:checked').val();
    		var audiance = $('input[name = audianceCookieValidation]:checked').val();
    		creerCookie('advertCookies', advert, 360);
    		creerCookie('audianceCookies', audiance, 360);
	});
	$("#validAllOk").on("click", function() {
    		var advert = $('input[name = advertCookieValidation]:checked').val();
    		var audiance = $('input[name = audianceCookieValidation]:checked').val();
    		creerCookie('advertCookies', 'true', 360);
    		creerCookie('audianceCookies', 'true', 360);
	});
	$("#validAllKo").on("click", function() {
    		creerCookie('advertCookies', 'false', 360);
    		creerCookie('audianceCookies', 'false', 360);
	});
    checkAcceptence();
	setTags();
});
